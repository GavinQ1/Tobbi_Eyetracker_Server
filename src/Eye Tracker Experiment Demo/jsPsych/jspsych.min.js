window.jsPsych=function(){function d(a,b,c){var e,f,h,l,g,k=-1,m=0,p=0,q=0,n=!1,x,r=this;this.trial=function(){return"undefined"==typeof l?jsPsych.utils.deepCopy(h):k>=l.timeline.length?null:l.timeline[k].trial()};this.markCurrentTrialComplete=function(){"undefined"==typeof l?n=!0:l.timeline[k].markCurrentTrialComplete()};this.nextRepetiton=function(){this.setTimelineVariablesOrder();k=-1;m=0;p++;for(var a=0;a<l.timeline.length;a++)l.timeline[a].reset()};this.setTimelineVariablesOrder=function(){if("undefined"!==
typeof l&&"undefined"!==typeof l.timeline_variables){for(var a=[],b=0;b<l.timeline_variables.length;b++)a.push(b);"undefined"!==typeof l.sample&&("custom"==l.sample.type?a=l.sample.fn(a):"with-replacement"==l.sample.type?a=jsPsych.randomization.sampleWithReplacement(a,l.sample.size,l.sample.weights):"without-replacement"==l.sample.type?a=jsPsych.randomization.sampleWithoutReplacement(a,l.sample.size):"fixed-repetitions"==l.sample.type&&(a=jsPsych.randomization.repeat(a,l.sample.size,!1)));l.randomize_order&&
(a=jsPsych.randomization.shuffle(a));x=a}};this.nextSet=function(){k=-1;m++;for(var a=0;a<l.timeline.length;a++)l.timeline[a].reset()};this.advance=function(){if(n)return!0;if(-1==k){if("undefined"!=typeof l){if("undefined"!==typeof l.conditional_function&&0==l.conditional_function())return n=!0;k=0}k=0;return this.advance()}if("undefined"!==typeof l){for(;k<l.timeline.length;)if(l.timeline[k].advance())k++;else return!1;return m<x.length-1?(this.nextSet(),this.advance()):p<l.repetitions-1?(this.nextRepetiton(),
this.advance()):"undefined"!==typeof l.loop_function?l.loop_function(this.generatedData())?(this.reset(),f.advance()):n=!0:n=!0}};this.isComplete=function(){return n};this.getTimelineVariableValue=function(a){if("undefined"!=typeof l)return l.timeline_variables[x[m]][a]};this.findTimelineVariable=function(a){var b=this.getTimelineVariableValue(a);if("undefined"==typeof b){if("undefined"!==typeof f)return f.findTimelineVariable(a)}else return b};this.timelineVariable=function(a){return"undefined"==
typeof l?this.findTimelineVariable(a):l.timeline[k].timelineVariable(a)};this.length=function(){var a=0;if("undefined"!==typeof l)for(var b=0;b<l.timeline.length;b++)a+=l.timeline[b].length();else return 1;return a};this.percentComplete=function(){for(var a=this.length(),b=0,c=0;c<l.timeline.length;c++)l.timeline[c].isComplete()&&(b+=l.timeline[c].length());return b/a*100};this.reset=function(){k=-1;m=p=0;q++;n=!1;this.setTimelineVariablesOrder();if("undefined"!=typeof l)for(var a=0;a<l.timeline.length;a++)l.timeline[a].reset()};
this.end=function(){n=!0};this.endActiveNode=function(){"undefined"==typeof l?(this.end(),f.end()):l.timeline[k].endActiveNode()};this.ID=function(){if("undefined"==typeof f)return"0."+q;var a=""+(f.ID()+"-");return a+=e+"."+q};this.activeID=function(){return"undefined"==typeof l?this.ID():l.timeline[k].activeID()};this.generatedData=function(){return jsPsych.data.getDataByTimelineNode(this.ID())};this.trialsOfType=function(a){if("undefined"==typeof l)return h.type==a?h:[];for(var b=[],c=0;c<l.timeline.length;c++)var e=
l.timeline[c].trialsOfType(a),b=b.concat(e);return b};this.insert=function(a){"undefined"==typeof l?console.error("Cannot add new trials to a trial-level node."):l.timeline.push(new d(Object.assign({},g,a),r,l.timeline.length))};(function(){f=b;e="undefined"==typeof b?0:c;if("undefined"!==typeof a.timeline||"function"==typeof jsPsych.plugins[k]){l={timeline:[],loop_function:a.loop_function,conditional_function:a.conditional_function,sample:a.sample,randomize_order:"undefined"==typeof a.randomize_order?
!1:a.randomize_order,repetitions:"undefined"==typeof a.repetitions?1:a.repetitions,timeline_variables:"undefined"==typeof a.timeline_variables?[{}]:a.timeline_variables};r.setTimelineVariablesOrder();var k=Object.assign({},a);delete k.timeline;delete k.conditional_function;delete k.loop_function;delete k.randomize_order;delete k.repetitions;delete k.timeline_variables;delete k.sample;g=k;for(var m=0;m<a.timeline.length;m++)l.timeline.push(new d(Object.assign({},k,a.timeline[m]),r,m))}else k=a.type,
"undefined"==typeof k?console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(a)):"undefined"==typeof jsPsych.plugins[k]&&"function(){returntimeline.timelineVariable(varname);}"!=k.toString().replace(/\s/g,"")&&console.error('No plugin loaded for trials of type "'+k+'"'),h=Object.assign({},a)})()}function c(){y=!0;!0===g.show_progress_bar&&document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>Completion Progress</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>');
r=new Date;k.advance();e(k.trial())}function a(){if(v)u=!0;else{m++;p=!1;k.markCurrentTrialComplete();var a=k.advance();if(!0===g.show_progress_bar&&1==g.auto_update_progress_bar){var b=jsPsych.progress();document.querySelector("#jspsych-progressbar-inner").style.width=b.percent_complete+"%"}a?("undefined"!==typeof k.end_message&&(q.innerHTML=k.end_message),g.on_finish(jsPsych.data.get())):e(k.trial())}}function e(a){g.on_trial_start(a);l=a;f(a);"function"===typeof a.type&&(a.type=a.type.call());
for(var b=Object.keys(a),c=0;c<b.length;c++)"type"!==b[c]&&("undefined"!==typeof jsPsych.plugins.universalPluginParameters[b[c]]&&jsPsych.plugins.universalPluginParameters[b[c]].type!==jsPsych.plugins.parameterType.FUNCTION||"undefined"!==typeof jsPsych.plugins[a.type].info.parameters[b[c]]&&jsPsych.plugins[a.type].info.parameters[b[c]].type!==jsPsych.plugins.parameterType.FUNCTION)&&"function"==typeof a[b[c]]&&(a[b[c]]=a[b[c]].call());b=Object.keys(jsPsych.plugins[a.type].info.parameters);for(c=
0;c<b.length;c++)if("undefined"==typeof a[b[c]]||null===a[b[c]])"undefined"==typeof jsPsych.plugins[a.type].info.parameters[b[c]]["default"]?console.error("You must specify a value for the "+b[c]+" parameter in the "+a.type+" plugin."):a[b[c]]=jsPsych.plugins[a.type].info.parameters[b[c]]["default"];jsPsych.plugins[a.type].trial(q,a)}function f(a){for(var b=Object.keys(a),c=0;c<b.length;c++)"function"==typeof a[b[c]]&&"function(){returntimeline.timelineVariable(varname);}"==a[b[c]].toString().replace(/\s/g,
"")&&(a[b[c]]=a[b[c]].call()),"object"==typeof a[b[c]]&&f(a[b[c]])}function b(a,c,l){var e=!0;if("undefined"!==typeof a.min_width||"undefined"!==typeof a.min_height){var f="undefined"!==typeof a.min_width?a.min_width:0,k="undefined"!==typeof a.min_height?a.min_height:0,d=window.innerHeight;if(window.innerWidth<f||d<k){var e=!1,g=setInterval(function(){var e=window.innerWidth,d=window.innerHeight;e<f||d<k?(e="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+
f+"px. Your current width is "+e+"px.</p><p>The minimum height is "+k+"px. Your current height is "+d+"px.</p>",h.getDisplayElement().innerHTML=e):(clearInterval(g),h.getDisplayElement().innerHTML="",b(a,c,l))},100);return}}"undefined"===typeof a.audio||!a.audio||window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext")?e&&c():(e=!1,h.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",
l())}var h={},g={},k,m=0,l={},p=!1,n,q,r,v=!1,u=!1,y=!1;h.ALL_KEYS="allkeys";h.NO_KEYS="none";h.init=function(a){"undefined"===typeof a.timeline&&console.error("No timeline declared in jsPsych.init. Cannot start experiment.");k=null;m=0;l={};y=u=v=p=!1;jsPsych.data.reset();g=Object.assign({},{display_element:void 0,on_finish:function(a){},on_trial_start:function(a){},on_trial_finish:function(){},on_data_update:function(a){},on_interaction_data_update:function(a){},preload_images:[],preload_audio:[],
exclusions:{},show_progress_bar:!1,auto_update_progress_bar:!0,auto_preload:!0,show_preload_progress_bar:!0,max_load_time:6E4,default_iti:0},a);"undefined"==typeof g.display_element?(null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",g.display_element=
document.querySelector("body")):(a=g.display_element instanceof Element?g.display_element:document.querySelector("#"+g.display_element),null===a?console.error("The display_element specified in jsPsych.init() does not exist in the DOM."):g.display_element=a);g.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>';n=g.display_element;q=document.querySelector("#jspsych-content");g.display_element.tabIndex=0;-1==g.display_element.className.indexOf("jspsych-display-element")&&
(g.display_element.className+=" jspsych-display-element");q.className+="jspsych-content";k=new d({timeline:g.timeline});jsPsych.pluginAPI.reset(g.display_element);jsPsych.pluginAPI.createKeyboardEventListeners(g.display_element);jsPsych.data.createInteractionListeners();b(g.exclusions,function(){g.auto_preload?(jsPsych.pluginAPI.autoPreload(k,c,g.preload_images,g.preload_audio,g.show_preload_progress_bar),0<g.max_load_time&&setTimeout(function(){y||(q.innerHTML="<p>The experiment failed to load.</p>")},
g.max_load_time)):c()},function(){})};h.progress=function(){var a="undefined"==typeof k?0:k.percentComplete();return{total_trials:"undefined"==typeof k?void 0:k.length(),current_trial_global:m,percent_complete:a}};h.startTime=function(){return r};h.totalTime=function(){return"undefined"==typeof r?0:(new Date).getTime()-r.getTime()};h.getDisplayElement=function(){return q};h.getDisplayContainerElement=function(){return n};h.finishTrial=function(b){if(!p){p=!0;b="undefined"==typeof b?{}:b;jsPsych.data.write(b);
b=jsPsych.data.get().filter({trial_index:m}).values()[0];if("function"===typeof l.on_finish)l.on_finish(b);g.on_trial_finish(b);g.on_data_update(b);"undefined"==typeof l.post_trial_gap?0<g.default_iti?setTimeout(a,g.default_iti):a():0<l.post_trial_gap?setTimeout(a,l.post_trial_gap):a()}};h.endExperiment=function(a){k.end_message=a;k.end();jsPsych.pluginAPI.cancelAllKeyboardResponses();jsPsych.pluginAPI.clearAllTimeouts();h.finishTrial()};h.endCurrentTimeline=function(){k.endActiveNode()};h.currentTrial=
function(){return l};h.initSettings=function(){return g};h.currentTimelineNodeID=function(){return k.activeID()};h.timelineVariable=function(a,b){return b?k.timelineVariable(a):function(){return k.timelineVariable(a)}};h.addNodeToEndOfTimeline=function(a,b){k.insert(a);g.auto_preload?jsPsych.pluginAPI.autoPreload(k,b):b()};h.pauseExperiment=function(){v=!0};h.resumeExperiment=function(){v=!1;u&&(u=!1,a())};h.setProgressBar=function(a){a=Math.max(Math.min(1,a),0);document.querySelector("#jspsych-progressbar-inner").style.width=
100*a+"%"};document.documentElement.setAttribute("jspsych","present");return h}();
jsPsych.plugins=function(){var d={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEYCODE:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12}};d.universalPluginParameters={data:{type:d.parameterType.OBJECT,pretty_name:"Data","default":{},description:"Data to add to this trial (key-value pairs)"},on_finish:{type:d.parameterType.FUNCTION,pretty_name:"On finish","default":function(){},description:"Function to execute when trial is finished"},post_trial_gap:{type:d.parameterType.INT,
pretty_name:"Post trial gap","default":void 0,description:"Length of gap between the end of this trial and the start of the next trial"}};return d}();
jsPsych.data=function(){function d(a){var b={},l="undefined"===typeof a?[]:a;b.push=function(a){l.push(a);return b};b.join=function(a){l=l.concat(a.values());return b};b.top=function(){return 1>=l.length?b:d([l[l.length-1]])};b.first=function(a){"undefined"==typeof a&&(a=1);for(var b=[],c=0;c<a;c++)b.push(l[c]);return d(b)};b.last=function(a){"undefined"==typeof a&&(a=1);var b=[];for(a=l.length-a;a<l.length;a++)b.push(l[a]);return d(b)};b.values=function(){return l};b.count=function(){return l.length};
b.readOnly=function(){return d(jsPsych.utils.deepCopy(l))};b.addToAll=function(a){for(var c=0;c<l.length;c++)for(var e in a)l[c][e]=a[e];return b};b.addToLast=function(a){if(0!=l.length)for(var c in a)l[l.length-1][c]=a[c];return b};b.filter=function(a){a=Array.isArray(a)?jsPsych.utils.deepCopy(a):jsPsych.utils.deepCopy([a]);for(var b=[],c=0;c<l.length;c++){for(var e=!1,f=0;f<a.length;f++){for(var h=!0,k=Object.keys(a[f]),g=0;g<k.length;g++)if("undefined"===typeof l[c][k[g]]||l[c][k[g]]!=a[f][k[g]])h=
!1;if(h){e=!0;break}}e&&b.push(l[c])}return d(b)};b.filterCustom=function(a){for(var b=[],c=0;c<l.length;c++)a(l[c])&&b.push(l[c]);return d(b)};b.select=function(a){for(var b=[],e=0;e<l.length;e++)"undefined"!==typeof l[e][a]&&b.push(l[e][a]);a=c();a.values=b;return a};b.ignore=function(a){Array.isArray(a)||(a=[a]);for(var b=jsPsych.utils.deepCopy(l),c=0;c<b.length;c++)for(var e in a)delete b[c][a[e]];return d(b)};b.uniqueNames=function(){for(var a=[],b=0;b<l.length;b++)for(var c=Object.keys(l[b]),
e=0;e<c.length;e++)a.includes(c[e])||a.push(c[e]);return a};b.csv=function(){for(var a=l,b="object"!=typeof a?JSON.parse(a):a,c=a="",e=[],f=0,h=0;h<b.length;h++)for(var k in b[h]){var g=k+"",g='"'+g.replace(/"/g,'""')+'",';e.includes(k)||(e[f]=k,a+=g,f++)}a=a.slice(0,-1);c+=a+"\r\n";for(f=0;f<b.length;f++){a="";for(h=0;h<e.length;h++)a+='"'+(("undefined"===typeof b[f][e[h]]?"":b[f][e[h]])+"").replace(/"/g,'""')+'",';a=a.slice(0,-1);c+=a+"\r\n"}return c};b.json=function(a){return a?JSON.stringify(l,
null,"\t"):JSON.stringify(l)};b.localSave=function(a,c){if("JSON"==a||"json"==a)var e=b.json();else if("CSV"==a||"csv"==a)e=b.csv();else throw Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');e=new Blob([e],{type:"text/plain"});e="undefined"!==typeof window.webkitURL?window.webkitURL.createObjectURL(e):window.URL.createObjectURL(e);jsPsych.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+c+'" href="'+
e+'">click to download</a>');document.getElementById("jspsych-download-as-text-link").click()};return b}function c(){var a={values:[],sum:function(){for(var b=0,c=0;c<a.values.length;c++)b+=a.values[c];return b},mean:function(){return a.sum()/a.count()},median:function(){if(0!=a.values.length){var b=a.values.slice(0).sort(function(a,b){return a-b}),c=Math.floor(b.length/2);return 0===b.length%2?(b[c]+b[c-1])/2:b[c]}},min:function(){return Math.min.apply(null,a.values)},max:function(){return Math.max.apply(null,
a.values)},count:function(){return a.values.length},variance:function(){for(var b=a.mean(),c=0,e=0;e<a.values.length;e++)c+=Math.pow(a.values[e]-b,2);return c/a.values.length},sd:function(){var b=a.variance();return Math.sqrt(b)},frequencies:function(){for(var b={},c=0;c<a.values.length;c++){var e=a.values[c];"undefined"==typeof b[e]?b[e]=1:b[e]++}return b},all:function(b){for(var c=0;c<a.values.length;c++)if(!b(a.values[c]))return!1;return!0},subset:function(b){for(var e=[],f=0;f<a.values.length;f++)b(a.values[f])&&
e.push(a.values[f]);b=c();b.values=e;return b}};return a}function a(){var a=window.location.search.substr(1).split("&");if(""==a)return{};for(var b={},c=0;c<a.length;++c){var e=a[c].split("=",2);b[e[0]]=1==e.length?"":decodeURIComponent(e[1].replace(/\+/g," "))}return b}var e={},f=d(),b=d(),h={},g;e.reset=function(){f=d();b=d()};e.get=function(){return f};e.getInteractionData=function(){return b};e.write=function(a){var b=jsPsych.progress(),c=jsPsych.currentTrial(),b={trial_type:c.type,trial_index:b.current_trial_global,
time_elapsed:jsPsych.totalTime(),internal_node_id:jsPsych.currentTimelineNodeID()};a=Object.assign({},a,c.data,b,h);f.push(a)};e.addProperties=function(a){f.addToAll(a);h=Object.assign({},h,a)};e.addDataToLastTrial=function(a){f.addToLast(a)};e.getDataByTimelineNode=function(a){return f.filterCustom(function(b){return b.internal_node_id.slice(0,a.length)===a})};e.getLastTrialData=function(){return f.top()};e.getLastTimelineData=function(){var a=e.getLastTrialData().select("internal_node_id").values[0];
if("undefined"===typeof a)return d();a=a.substr(0,a.lastIndexOf("-"));return e.getDataByTimelineNode(a)};e.displayData=function(a){a="undefined"===typeof a?"json":a.toLowerCase();"json"!=a&&"csv"!=a&&(console.log("Invalid format declared for displayData function. Using json as default."),a="json");a="json"==a?f.json(!0):f.csv();jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>';document.getElementById("jspsych-data-display").textContent=a};e.urlVariables=function(){"undefined"==
typeof g&&(g=a());return g};e.getURLVariable=function(b){"undefined"==typeof g&&(g=a());return g[b]};e.createInteractionListeners=function(){function a(){var a={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen?"fullscreenenter":"fullscreenexit",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};b.push(a);jsPsych.initSettings().on_interaction_data_update(a)}window.addEventListener("blur",function(){var a={event:"blur",trial:jsPsych.progress().current_trial_global,
time:jsPsych.totalTime()};b.push(a);jsPsych.initSettings().on_interaction_data_update(a)});window.addEventListener("focus",function(){var a={event:"focus",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};b.push(a);jsPsych.initSettings().on_interaction_data_update(a)});document.addEventListener("fullscreenchange",a);document.addEventListener("mozfullscreenchange",a);document.addEventListener("webkitfullscreenchange",a)};e._customInsert=function(a){f=d(a)};e._fullreset=function(){e.reset();
h={}};return e}();
jsPsych.turk=function(){return{turkInfo:function(){var d={},c=function(a,c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=(new RegExp("[\\?&]"+c+"=([^&#]*)")).exec(a);return null==b?"":b[1]},a=c(window.location.href,"assignmentId")?window.location.href:document.referrer;["assignmentId","hitId","workerId","turkSubmitTo"].map(function(e){d[e]=unescape(c(a,e))});d.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==d.assignmentId;d.outsideTurk=!d.previewMode&&""===d.hitId&&""==d.assignmentId&&""==d.workerId;
return turk_info=d},submitToTurk:function(d){var c=jsPsych.turk.turkInfo(),a=c.assignmentId,c=c.turkSubmitTo;if(a&&c){var e=[],f;for(f in d)d.hasOwnProperty(f)&&e.push(f+"="+escape(d[f]));e.push("assignmentId="+a);d=c+"/mturk/externalSubmit?"+e.join("&");window.location.href=d}}}}();
jsPsych.randomization=function(){function d(a){a=a.slice(0);for(var c=a.length,f,b;c;)b=Math.floor(Math.random()*c--),f=a[c],a[c]=a[b],a[b]=f;return a}var c={repeat:function(a,c,f){var b=Array.isArray(a);var e=Array.isArray(c);if(!b)e?(c=[c[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(a=[a],c=[c]);else if(!e){e=[];for(b=0;b<a.length;b++)e.push(c);c=e}else if(a.length!=c.length)if(console.warning("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),
c.length<a.length){e=[];for(b=0;b<a.length;b++)e.push(c);c=e}else c=repetions.slice(0,a.length);e=[];for(b=0;b<a.length;b++)for(var g=0;g<c[b];g++)null==a[b]||"object"!=typeof a[b]?e.push(a[b]):e.push(Object.assign({},a[b]));a=d(e);if(f)for(f=a,a={},c=0;c<f.length;c++)for(b=Object.keys(f[c]),e=0;e<b.length;e++)"undefined"===typeof a[b[e]]&&(a[b[e]]=[]),a[b[e]].push(f[c][b[e]]);return a},shuffle:function(a){return d(a)},shuffleNoRepeats:function(a,c){"undefined"==typeof c&&(c=function(a,b){return a===
b?!0:!1});for(var e=d(a),b=0;b<e.length-2;b++)if(c(e[b],e[b+1])){for(var h=Math.floor(Math.random()*(e.length-2))+1;c(e[b+1],e[h])||c(e[b+1],e[h+1])||c(e[b+1],e[h-1]);)h=Math.floor(Math.random()*(e.length-2))+1;var g=e[h];e[h]=e[b+1];e[b+1]=g}return e},sampleWithoutReplacement:function(a,c){c>a.length&&console.error("Cannot take a sample larger than the size of the set of items to sample.");return jsPsych.randomization.shuffle(a).slice(0,c)},sampleWithReplacement:function(a,c,f){var b=[];if("undefined"!==
typeof f){f.length!==a.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");for(var e=0,g=0;g<f.length;g++)e+=f[g];for(g=0;g<f.length;g++)b.push(f[g]/e)}else for(g=0;g<a.length;g++)b.push(1/a.length);f=[b[0]];for(g=1;g<b.length;g++)f.push(b[g]+f[g-1]);b=[];for(g=0;g<c;g++){for(var e=Math.random(),d=0;e>f[d];)d++;b.push(a[d])}return b},factorial:function(a,e,f){for(var b=Object.keys(a),h=[],g=0;g<a[b[0]].length;g++)h.push({}),h[g][b[0]]=a[b[0]][g];
for(g=1;g<b.length;g++){for(var d=a[b[g]],m=h.length,l=0;l<m;l++)for(var p=h[l],n=0;n<d.length;n++){var q={};q[b[g]]=d[n];h.push(Object.assign({},p,q))}h.splice(0,m)}return c.repeat(h,"undefined"===typeof e?1:e,f)},randomID:function(a){var c="";a="undefined"==typeof a?32:a;for(var f=0;f<a;f++)c+="0123456789abcdefghjklmnopqrstuvwxyz"[Math.floor(35*Math.random())];return c}};return c}();
jsPsych.pluginAPI=function(){var d={},c=[],a={},e=function(b){for(var e=0;e<c.length;e++)c[e].fn(b);a[b.keyCode]=!0},f=function(b){a[b.keyCode]=!1};d.reset=function(b){c=[];a={};b.removeEventListener("keydown",e);b.removeEventListener("keyup",f)};d.createKeyboardEventListeners=function(a){a.addEventListener("keydown",e);a.addEventListener("keyup",f)};d.getKeyboardResponse=function(b){b.rt_method="undefined"===typeof b.rt_method?"date":b.rt_method;"date"!=b.rt_method&&"performance"!=b.rt_method&&"audio"!=
b.rt_method&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "date" method.'),b.rt_method="date");if("date"==b.rt_method)var e=(new Date).getTime();else"performance"==b.rt_method?e=performance.now():"audio"==b.rt_method&&(e=b.audio_context_start_time);var f={type:"keydown",fn:function(h){if("date"==b.rt_method)var l=(new Date).getTime();else"performance"==b.rt_method?l=performance.now():"audio"==b.rt_method&&(l=b.audio_context.currentTime);var g=!1;if("undefined"===
typeof b.valid_responses||b.valid_responses==jsPsych.ALL_KEYS)g=!0;else if(b.valid_responses!=jsPsych.NO_KEYS)for(var k=0;k<b.valid_responses.length;k++)if("string"==typeof b.valid_responses[k]){var m=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(b.valid_responses[k]);if("undefined"!==typeof m)h.keyCode==m&&(g=!0);else throw Error("Invalid key string specified for getKeyboardResponse");}else h.keyCode==b.valid_responses[k]&&(g=!0);"undefined"!=typeof b.allow_held_key&&b.allow_held_key||!g||"undefined"!==
typeof a[h.keyCode]&&1==a[h.keyCode]&&(g=!1);g&&(b.callback_function({key:h.keyCode,rt:l-e}),c.includes(f)&&(b.persist||d.cancelKeyboardResponse(f)))}};c.push(f);return f};d.cancelKeyboardResponse=function(a){c.includes(a)&&c.splice(c.indexOf(a),1)};d.cancelAllKeyboardResponses=function(){c=[]};d.convertKeyCharacterToKeyCode=function(a){var c;a=a.toLowerCase();"undefined"!==typeof b[a]&&(c=b[a]);return c};d.convertKeyCodeToKeyCharacter=function(a){for(var c in Object.keys(b))if(b[Object.keys(b)[c]]==
a)return Object.keys(b)[c]};var b={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,
"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},h=[];d.setTimeout=function(a,b){var c=setTimeout(a,b);h.push(c);return c};d.clearAllTimeouts=function(){for(var a=0;a<h.length;a++)clearTimeout(h[a]);h=[]};"undefined"!==typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&
(window.AudioContext=webkitAudioContext);var g="undefined"!==typeof window&&"undefined"!==typeof window.AudioContext?new AudioContext:null,k=[];d.audioContext=function(){return g};d.getAudioBuffer=function(a){if("tmp"==k[a])console.error("Audio file failed to load in the time alloted.");else return k[a]};var m=[];d.preloadAudioFiles=function(a,b,c){function e(b){var c=new XMLHttpRequest;c.open("GET",b,!0);c.responseType="arraybuffer";c.onload=function(){g.decodeAudioData(c.response,function(c){k[b]=
c;h++;l(h);h==a.length&&m()},function(){console.error("Error loading audio file: "+n)})};c.send()}function f(b){var c=new Audio;c.addEventListener("canplaythrough",function(){k[b]=c;h++;l(h);h==a.length&&m()});c.src=b}a=jsPsych.utils.flatten(a);a=jsPsych.utils.unique(a);var h=0,l="undefined"===typeof c?function(){}:c,m="undefined"===typeof b?function(){}:b;if(0==a.length)m();else for(b=0;b<a.length;b++){var n=a[b];"undefined"!==typeof k[n]?(h++,l(h),h==a.length&&m()):(k[n]="tmp",null!==d.audioContext()?
e(n):f(n))}};d.preloadImages=function(a,b,c){a=jsPsych.utils.flatten(a);a=jsPsych.utils.unique(a);var e=0,f="undefined"===typeof c?function(){}:c,h="undefined"===typeof b?function(){}:b;if(0==a.length)h();else for(b=0;b<a.length;b++)c=new Image,c.onload=function(){e++;f(e);e==a.length&&h()},c.onerror=function(){e++;f(e);e==a.length&&h()},c.src=a[b]};d.registerPreload=function(a,b,c,e){"audio"!=c&&"image"!=c&&console.error("Invalid media_type parameter for jsPsych.pluginAPI.registerPreload. Please check the plugin file.");
m.push({plugin:a,parameter:b,media_type:c,conditional_function:e})};d.autoPreload=function(a,b,c,e,f){function h(){A++;if(f){var a=A/r*100;jsPsych.getDisplayElement().querySelector("#jspsych-loading-progress-bar").style.width=a+"%"}}c="undefined"===typeof c?[]:c;e="undefined"===typeof e?[]:e;for(var g=0;g<m.length;g++)for(var l=m[g].parameter,k=m[g].media_type,q=m[g].conditional_function,n=a.trialsOfType(m[g].plugin),p=0;p<n.length;p++)"undefined"===typeof n[p][l]||"function"===typeof n[p][l]||"undefined"!=
typeof q&&!q(n[p])||("image"==k?c=c.concat(jsPsych.utils.flatten([n[p][l]])):"audio"==k&&(e=e.concat(jsPsych.utils.flatten([n[p][l]]))));c=jsPsych.utils.unique(c);e=jsPsych.utils.unique(e);var r=c.length+e.length,A=0;f&&(jsPsych.getDisplayElement().innerHTML="<div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd;'><div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div></div>");d.preloadImages(c,function(){d.preloadAudioFiles(e,
function(){b()},h)},h)};d.hardware=function(a){a=new CustomEvent("jspsych",{detail:a});document.dispatchEvent(a)};d.hardwareConnected=!1;document.addEventListener("jspsych-activate",function(a){d.hardwareConnected=!0});return d}();
jsPsych.utils=function(){var d={flatten:function(c,a){a="undefined"===typeof a?[]:a;for(var e=0;e<c.length;e++)Array.isArray(c[e])?d.flatten(c[e],a):a.push(c[e]);return a},unique:function(c){for(var a=[],e=0;e<c.length;e++)c.indexOf(c[e])==e&&a.push(c[e]);return a},deepCopy:function(c){if(Array.isArray(c)){var a=[];for(var e=0;e<c.length;e++)a.push(d.deepCopy(c[e]));return a}if("object"===typeof c){a={};for(e in c)c.hasOwnProperty(e)&&(a[e]=d.deepCopy(c[e]));return a}return c}};return d}();
"function"!=typeof Object.assign&&(Object.assign=function(d,c){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(d),e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f)for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(a[b]=f[b])}return a});
Array.prototype.includes||(Array.prototype.includes=function(d,c){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var a=Object(this),e=parseInt(a.length,10)||0;if(0===e)return!1;var f=parseInt(c,10)||0;0<=f||(f=e+f,0>f&&(f=0));for(var b;f<e;){b=a[f];if(d===b||d!==d&&b!==b)return!0;f++}return!1});Array.isArray||(Array.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)});jsPsych.plugins.animation=function(){var d={};jsPsych.pluginAPI.registerPreload("animation","stimuli","image");d.info={name:"animation",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Stimuli","default":void 0,array:!0,description:"The images to be displayed."},frame_time:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame time","default":250,description:"Duration to display each image."},frame_isi:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame gap",
"default":0,description:"Length of gap to be shown between each image."},sequence_reps:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sequence repetitions","default":1,description:"Number of times to show entire sequence."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":jsPsych.ALL_KEYS,array:!0,description:"Keys subject uses to respond to stimuli."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below stimulus."}}};
d.trial=function(c,a){function e(){c.innerHTML='<img src="'+a.stimuli[b]+'" id="jspsych-animation-image"></img>';l=a.stimuli[b];d.push({stimulus:a.stimuli[b],time:(new Date).getTime()-g});""!==a.prompt&&(c.innerHTML+=a.prompt);0<a.frame_isi&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-animation-image").style.visibility="hidden";l="blank";d.push({stimulus:"blank",time:(new Date).getTime()-g})},a.frame_time)}var f=a.frame_time+a.frame_isi,b=-1,h=0,g=(new Date).getTime(),d=[],m=
[],l="",p=setInterval(function(){var f=!0;c.innerHTML="";b++;b==a.stimuli.length&&(b=0,h++,h>=a.sequence_reps&&(jsPsych.pluginAPI.cancelKeyboardResponse(n),f={animation_sequence:JSON.stringify(d),responses:JSON.stringify(m)},jsPsych.finishTrial(f),clearInterval(p),f=!1));f&&e()},f),n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){m.push({key_press:a.key,rt:a.rt,stimulus:l});c.querySelector("#jspsych-animation-image").className+=" responded"},valid_responses:a.choices,rt_method:"date",
persist:!0,allow_held_key:!1})};return d}();jsPsych.plugins["audio-button-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("audio-button-response","stimulus","audio");d.info={name:"audio-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus","default":void 0,description:"The audio to be played."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":[],array:!0,description:"The button labels."},button_html:{type:jsPsych.plugins.parameterType.HTML_STRING,
pretty_name:"Button HTML","default":'<button class="jspsych-btn">%choice%</button>',array:!0,description:"Custom button. Can make your own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Margin vertical","default":"0px",description:"Vertical margin of button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal","default":"8px",description:"Horizontal margin of button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Trial ends after audio",
"default":!1,description:"If true, then the trial will end as soon as the audio file finishes playing."}}};d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();var b={rt:g.rt,stimulus:a.stimulus,button_pressed:g.button};c.innerHTML="";jsPsych.finishTrial(b)}var f=jsPsych.pluginAPI.audioContext();if(null!==f){var b=f.createBufferSource();b.buffer=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);b.connect(f.destination)}else{var h=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);h.currentTime=
0}a.trial_ends_after_audio&&(null!==f?b.onended=function(){e()}:h.addEventListener("ended",e));h=[];if(Array.isArray(a.button_html))a.button_html.length==a.choices.length?h=a.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(b=0;b<a.choices.length;b++)h.push(a.button_html);c.innerHTML+='<div id="jspsych-audio-button-response-btngroup"></div>';for(b=0;b<a.choices.length;b++)f=h[b].replace(/%choice%/g,
a.choices[b]),c.querySelector("#jspsych-audio-button-response-btngroup").insertAdjacentHTML("beforeend",'<div class="jspsych-audio-button-response-button" style="display: inline-block; margin:'+a.margin_vertical+" "+a.margin_horizontal+'" id="jspsych-audio-button-response-button-'+b+'" data-choice="'+b+'">'+f+"</div>"),c.querySelector("#jspsych-audio-button-response-button-"+b).addEventListener("click",function(b){b=b.currentTarget.getAttribute("data-choice");var f=Date.now()-d;g.button=b;g.rt=f;
c.querySelector("#jspsych-audio-button-response-stimulus").className+=" responded";b=document.querySelectorAll(".jspsych-audio-button-response-button button");for(f=0;f<b.length;f++)b[f].setAttribute("disabled","disabled");a.response_ends_trial&&e()});""!==a.prompt&&c.insertAdjacentHTML("beforeend",a.prompt);var g={rt:-1,button:-1},d=0,d=Date.now();0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-audio-button-response-stimulus").style.visibility="hidden"},a.stimulus_duration);
0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration)};return d}();jsPsych.plugins["audio-keyboard-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("audio-keyboard-response","stimulus","audio");d.info={name:"audio-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus","default":void 0,description:"The audio to be played."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices",array:!0,"default":jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},
prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:jsPsych.plugins.parameterType.BOOL,
pretty_name:"Trial ends after audio","default":!1,description:"If true, then the trial will end as soon as the audio file finishes playing."}}};d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();null!==f?(b.stop(),b.onended=function(){}):(h.pause(),h.removeEventListener("ended",e));jsPsych.pluginAPI.cancelAllKeyboardResponses();var d={rt:null!==f?1E3*g.rt:g.rt,stimulus:a.stimulus,key_press:g.key};c.innerHTML="";jsPsych.finishTrial(d)}var f=jsPsych.pluginAPI.audioContext();if(null!==
f){var b=f.createBufferSource();b.buffer=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);b.connect(f.destination)}else{var h=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);h.currentTime=0}a.trial_ends_after_audio&&(null!==f?b.onended=function(){e()}:h.addEventListener("ended",e));""!==a.prompt&&(c.innerHTML=a.prompt);var g={rt:-1,key:-1},d=function(b){-1==g.key&&(g=b);a.response_ends_trial&&e()};null!==f?(startTime=f.currentTime+.1,b.start(startTime)):h.play();null!==f?jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,
valid_responses:a.choices,rt_method:"audio",persist:!1,allow_held_key:!1,audio_context:f,audio_context_start_time:startTime}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:a.choices,rt_method:"date",persist:!1,allow_held_key:!1});0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration)};return d}();jsPsych.plugins["audio-slider-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("audio-slider-response","stimulus","audio");d.info={name:"audio-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus","default":void 0,description:"The image to be displayed"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider","default":0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"Max slider","default":100,description:"Sets the maximum value of the slider"},step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step","default":1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Labels","default":[],array:!0,description:"Labels of the slider."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":void 0,array:!1,description:"Label of the button to advance."},prompt:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the slider."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when user makes a response."}}};
d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();var a={rt:g.rt,response:g.response};c.innerHTML="";jsPsych.finishTrial(a)}var f=jsPsych.pluginAPI.audioContext();if(null!==f){var b=f.createBufferSource();b.buffer=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);b.connect(f.destination)}else{var h=jsPsych.pluginAPI.getAudioBuffer(a.stimulus);h.currentTime=0}a.trial_ends_after_audio&&(null!==f?b.onended=function(){e()}:h.addEventListener("ended",e));h='<div id="jspsych-audio-slider-response-wrapper" style="margin: 100px 0px;">'+
('<div id="jspsych-audio-slider-response-stimulus"><img src="'+a.stimulus+'"></div>');h=h+'<div class="jspsych-audio-slider-response-container" style="position:relative;">'+('<input type="range" min="'+a.min+'" max="'+a.max+'" step="'+a.step+'" style="width: 100%;" id="jspsych-audio-slider-response-response"></input>');h+="<div>";for(b=0;b<a.labels.length;b++)f=100/(a.labels.length-1),h+='<div style="display: inline-block; position: absolute; left:'+(100/(a.labels.length-1)*b-f/2)+"%; text-align: center; width: "+
f+'%;">',h+='<span style="text-align: center; font-size: 80%;">'+a.labels[b]+"</span>",h+="</div>";h=h+"</div></div></div>"+a.prompt;h+='<button id="jspsych-audio-slider-response-next" class="jspsych-btn">'+a.button_label+"</button>";c.innerHTML=h;var g={rt:-1,response:-1};c.querySelector("#jspsych-audio-slider-response-next").addEventListener("click",function(){var b=(new Date).getTime();g.rt=b-d;g.response=c.querySelector("#jspsych-audio-slider-response-response").value;a.response_ends_trial?e():
c.querySelector("#jspsych-audio-slider-response-next").disabled=!0});0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-audio-slider-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration);var d=(new Date).getTime()};return d}();jsPsych.plugins["call-function"]=function(){var d={};d.info={name:"call-function",description:"",parameters:{func:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Function","default":void 0,description:"Function to call"}}};d.trial=function(c,a){a.post_trial_gap=0;var e={value:a.func()};jsPsych.finishTrial(e)};return d}();jsPsych.plugins["categorize-animation"]=function(){var d={};jsPsych.pluginAPI.registerPreload("categorize-animation","stimuli","image");d.info={name:"categorize-animation",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli","default":void 0,description:"Array of paths to image files."},key_answer:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer","default":void 0,description:"The key to indicate correct response"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Choices","default":jsPsych.ALL_KEYS,array:!0,description:"The keys subject is allowed to press to respond to stimuli."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer","default":"",description:"Text to describe correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text","default":"Correct.",description:"String to show when subject gives correct answer"},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Incorrect text","default":"Wrong.",description:"String to show when subject gives incorrect answer."},frame_time:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame time","default":500,description:"Duration to display each image."},sequence_reps:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sequence repetitions","default":1,description:"How many times to display entire sequence."},allow_response_before_complete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow response before complete",
"default":!1,description:"If true, subject can response before the animation sequence finishes"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":2E3,description:"How long to show feedback"},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."}}};d.trial=function(c,a){var e=-1,f=0,b=!0,h=!1,d=!1,k;(new Date).getTime();var m=setInterval(function(){c.innerHTML=
"";e++;e==a.stimuli.length&&(e=0,f++,-1!=a.sequence_reps&&f>=a.sequence_reps&&(b=!1));b&&(c.innerHTML+='<img src="'+a.stimuli[e]+'" class="jspsych-categorize-animation-stimulus"></img>');if(!h&&a.allow_response_before_complete)""!==a.prompt&&(c.innerHTML+=a.prompt);else if(h){var g="",g=k?a.correct_text.replace("%ANS%",a.text_answer):a.incorrect_text.replace("%ANS%",a.text_answer);c.innerHTML+=g;d||(d=!0,jsPsych.pluginAPI.setTimeout(function(){clearInterval(m);c.innerHTML="";jsPsych.finishTrial(l)},
a.feedback_duration))}else b||""===a.prompt||(c.innerHTML+=a.prompt)},a.frame_time),l={};var p=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(c){if(!a.allow_response_before_complete&&b)return!1;k=!1;a.key_answer==c.key&&(k=!0);h=!0;l={stimulus:JSON.stringify(a.stimuli),rt:c.rt,correct:k,key_press:c.key};jsPsych.pluginAPI.cancelKeyboardResponse(p)},valid_responses:a.choices,rt_method:"date",persist:!0,allow_held_key:!1})};return d}();jsPsych.plugins["categorize-html"]=function(){var d={};d.info={name:"categorize-html",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":void 0,description:"The HTML content to be displayed."},key_answer:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer","default":void 0,description:"The key to indicate the correct response."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":jsPsych.ALL_KEYS,
array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer","default":"",description:"Label that is associated with the correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text","default":"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Incorrect text",
"default":"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct button press","default":!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},
show_stim_with_feedback:{type:jsPsych.plugins.parameterType.BOOL,"default":!0,no_function:!1,description:""},show_feedback_on_timeout:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout","default":!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Timeout message","default":"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},
stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":2E3,description:"How long to show feedback."}}};d.trial=function(c,a){function e(b,e){if(e&&!a.show_feedback_on_timeout)c.innerHTML+=
a.timeout_message;else{a.show_stim_with_feedback&&(c.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+a.stimulus+"</div>");var h="",h=b?a.correct_text.replace("%ANS%",a.text_answer):a.incorrect_text.replace("%ANS%",a.text_answer);c.innerHTML+=h}a.force_correct_button_press&&!1===b&&(e&&a.show_feedback_on_timeout||!e)?jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){c.innerHTML="";jsPsych.finishTrial(f)},valid_responses:[a.key_answer],
rt_method:"date",persist:!1,allow_held_key:!1}):jsPsych.pluginAPI.setTimeout(function(){c.innerHTML="";jsPsych.finishTrial(f)},a.feedback_duration)}c.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+a.stimulus+"</div>";0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"},a.stimulus_duration);""!==a.prompt&&(c.innerHTML+=a.prompt);var f={},b=function(b){jsPsych.pluginAPI.clearAllTimeouts();
jsPsych.pluginAPI.cancelAllKeyboardResponses();var h=!1;a.key_answer==b.key&&(h=!0);f={rt:b.rt,correct:h,stimulus:a.stimulus,key_press:b.key};c.innerHTML="";e(h,-1==b.rt)};jsPsych.pluginAPI.getKeyboardResponse({callback_function:b,valid_responses:a.choices,rt_method:"date",persist:!1,allow_held_key:!1});0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){b({key:-1,rt:-1})},a.trial_duration)};return d}();jsPsych.plugins["categorize-image"]=function(){var d={};jsPsych.pluginAPI.registerPreload("categorize-image","stimulus","image");d.info={name:"categorize-image",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus","default":void 0,description:"The image content to be displayed."},key_answer:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer","default":void 0,description:"The key to indicate the correct response."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Choices","default":jsPsych.ALL_KEYS,array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer","default":"",description:"Label that is associated with the correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text","default":"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Incorrect text","default":"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct button press","default":!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},
show_stim_with_feedback:{type:jsPsych.plugins.parameterType.BOOL,"default":!0,no_function:!1,description:""},show_feedback_on_timeout:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout","default":!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Timeout message","default":"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},
stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":2E3,description:"How long to show feedback."}}};d.trial=function(c,a){function e(b,e){if(e&&!a.show_feedback_on_timeout)c.innerHTML+=
a.timeout_message;else{a.show_stim_with_feedback&&(c.innerHTML='<img id="jspsych-categorize-image-stimulus" class="jspsych-categorize-image-stimulus" src="'+a.stimulus+'"></img>');var h="",h=b?a.correct_text.replace("%ANS%",a.text_answer):a.incorrect_text.replace("%ANS%",a.text_answer);c.innerHTML+=h}a.force_correct_button_press&&!1===b&&(e&&a.show_feedback_on_timeout||!e)?jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){c.innerHTML="";jsPsych.finishTrial(f)},valid_responses:[a.key_answer],
rt_method:"date",persist:!1,allow_held_key:!1}):jsPsych.pluginAPI.setTimeout(function(){c.innerHTML="";jsPsych.finishTrial(f)},a.feedback_duration)}c.innerHTML='<img id="jspsych-categorize-image-stimulus" class="jspsych-categorize-image-stimulus" src="'+a.stimulus+'"></img>';0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-categorize-image-stimulus").style.visibility="hidden"},a.stimulus_duration);""!==a.prompt&&(c.innerHTML+=a.prompt);var f={},b=function(b){jsPsych.pluginAPI.clearAllTimeouts();
jsPsych.pluginAPI.cancelAllKeyboardResponses();var h=!1;a.key_answer==b.key&&(h=!0);f={rt:b.rt,correct:h,stimulus:a.stimulus,key_press:b.key};c.innerHTML="";e(h,-1==b.rt)};jsPsych.pluginAPI.getKeyboardResponse({callback_function:b,valid_responses:a.choices,rt_method:"date",persist:!1,allow_held_key:!1});0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){b({key:-1,rt:-1})},a.trial_duration)};return d}();jsPsych.plugins["external-html"]=function(){function d(a,c,f){var b=new XMLHttpRequest;b.open("GET",c,!0);b.onload=function(){if(200==b.status||0==b.status)a.innerHTML=b.responseText,f()};b.send()}var c={};c.info={name:"external-html",description:"",parameters:{url:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"URL","default":void 0,description:"The url of the external html page"},cont_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Continue key","default":null,description:"The key to continue to the next page."},
cont_btn:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Continue button","default":null,description:"The button to continue to the next page."},check_fn:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Check function","default":function(){return!0},description:""},force_refresh:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force refresh","default":!1,description:"Refresh page."}}};c.trial=function(a,c){var e=c.url;c.force_refresh&&(e=c.url+"?time="+(new Date).getTime());
d(a,e,function(){var b=(new Date).getTime(),e=function(){if(!c.check_fn||c.check_fn(a)){c.cont_key&&document.removeEventListener("keydown",f);var e={rt:(new Date).getTime()-b,url:c.url};a.innerHTML="";jsPsych.finishTrial(e)}};c.cont_btn&&a.querySelector("#"+c.cont_btn).addEventListener("click",e);if(c.cont_key){var f=function(a){a.which==c.cont_key&&e()};a.addEventListener("keydown",f)}})};return c}();jsPsych.plugins.form=function(){function d(a){function b(){}b.prototype=a;return new b}function c(c,e){e.form=e.form||{};var J=new a(c,e.form),d=J.id,k=[];for(z in Object.keys(e)){var z=Object.keys(e)[z];if("form"!=z&&"onSubmit"!=z){item=e[z];item.question=item.question||z;switch(item.type){case "short answer":item.type="text";case "text":var t=new y(d,item);break;case "long answer":item.type="textarea";case "textarea":t=new C(d,item);break;case "dropdown":t=new g(d,item);break;case "checkbox":case "switch":case "radio":t=
new D(d,item);break;case "range":t=new h(d,item);break;case "date":t=new m(d,item);break;case "datetime":t=new l(d,item);break;case "datetime-local":t=new p(d,item);break;case "email":t=new n(d,item);break;case "file":t=new b(d,item);break;case "month":t=new q(d,item);break;case "password":t=new r(d,item);break;case "search":t=new v(d,item);break;case "telephone":t=new u(d,item);break;case "time":t=new x(d,item);break;case "url":t=new E(d,item);break;case "week":t=new F(d,item)}k.push(t)}}d=new f(d,
e.onSubmit);return[J,k,d]}function a(a,b){b=void 0===b?{}:b;this.type="form";this.display_element=a||"body";this.id=b.id||"{0}_{1}".format(this.type,S++);this.layout_color=b.layout_color||"white-300";this.boxShadow=b.boxShadow||0;this.ribbon_color=b.ribbon_color||"white-300";this.ribbon_height=b.ribbon_height||"40vh";this.ribbon_bg=b.ribbon_bg?"background: url({0});".format(b.ribbon_bg):"";this.ribbon_bg_size=b.ribbon_bg_size||"background-size: contain cover;";this.ribbon='<div style="height: {0};-webkit-flex-shrink: 0;-ms-flex-negative: 0;flex-shrink: 0;background-color: {1};{2}{3}"></div>'.format(this.ribbon_height,
this.ribbon_color,this.ribbon_bg,this.ribbon_bg_size);this.content_bg_color=b.content_bg_color||"white-300";this.context_text_color=b.context_text_color||"black-800";this.form_title=b.form_title||"Untitled Form";this.form_title_size=b.form_title_size||"40px";this.form_title_color=b.form_title_color||"black-800";this.form_description=b.form_description||"";this.form_description_size=b.form_description_size||"14px";this.form_description_color=b.form_description_color||"grey-600";this.form_description_html=
this.form_description?'<p style="font-size: {0};padding-top: 20px;" class="mdl-layout-title mdl-color-text--{1}">{2}</p>'.format(this.form_description_size,this.form_description_color,this.form_description):"";this.form_title_html='<label style="font-size: {0};padding-bottom: 30px; font-weight: bolder;" class="mdl-layout-title mdl-color-text--{1}">{2}<br>{3}</label>'.format(this.form_title_size,this.form_title_color,this.form_title,this.form_description_html);this.content='<main class="mdl-layout__content" style="position: relative;margin-top: -35vh;-webkit-flex-shrink: 0;-ms-flex-negative: 0;flex-shrink: 0;">\r\n    <div class="mdl-grid" style="max-width: 1600px;width: calc(100% - 16px);margin: 0 auto;margin-top: 10vh;">\r\n    <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>\r\n    <div class="mdl-color--{0} mdl-shadow--{4}dp mdl-cell mdl-cell--8-col" style="border-radius: 2px;padding: 80px 56px;margin-bottom: 80px;">\r\n    <div class="mdl-color-text--{1}" id="{2}" style="">{3}</div></div>\r\n    <div class="mdl-layout mdl-color-text--grey-600" style="text-align: center; font-size: 12px; margin-top: -60px">\r\n    </div><div class="mdl-layout mdl-color-text--grey-700" style="text-align: center; font-size: 19px; margin-top: -30px">\r\n    </div></div></main>'.format(this.content_bg_color,
this.context_text_color,this.id,this.form_title_html,this.boxShadow);this.html='<form><div style="text-align: left;">{1}{2}</div></form>'.format(this.layout_color,this.ribbon,this.content);this.render()}function e(a,b){this.parent_id=a;this.label=b.label||"";this.value=b.value||"";this.name=b.name||"";this.type=b.type||"";this.id=b.id||"";this.name=b.name||this.id;this.correct=b.correct;this.question_color=b.question_color||"black-800";this.question="";this.newline=b.newline||!1;this.disabled=b.disabled?
'disabled="disabled"':"";this.maxlength=b.maxlength||"";this.readonly=b.readonly?'readonly="readonly"':"";this.required=b.required?'required="required"':"";this.autofocus=b.autofocus?'autofocus="autofocus"':"";this.size=b.size||"";this.star=""!=this.required?'<nobr class="mdl-color-text--red-800 style="font-weight: bold;" > *</nobr>':"";this.question_description=b.question_description||"";this.question_description_size=b.question_description_size||"14px";this.question_description_color=b.question_description_color||
"grey-600";this.question_description_html=this.question_description?'<p style="font-size: {0};padding-top: 20px;" class="mdl-layout-title mdl-color-text--{1}">{2}</p>'.format(this.question_description_size,this.question_description_color,this.question_description):"";(this.needQuestion=0==b.needQuestion?!1:!0)?(this.question=b.question||"Untitled Question",this.question_html='<label class="mdl-layout-title mdl-color-text--{0}" style="font-weight: bold;" >{1}{2}</label>'.format(this.question_color,
this.question,this.star)):this.question_html="";this.html=""}function f(a,b){b=void 0===b?{}:b;b.type=b.type||"button";b.id=b.id||"{0}_{1}".format(b.type,T++);b.needQuestion=!1;e.call(this,a,b);this.addon="";this.buttonStyle=b.buttonStyle||"raise";switch(this.buttonStyle){case "raise":this.addon+=" mdl-button--raised";break;case "fab":this.addon+=" mdl-button--fab";break;case "minifab":this.addon+=" mdl-button--mini-fab";break;case "icon":this.addon+=" mdl-button--icon"}this.color=0==b.color?!1:!0;
this.addon+=this.color?" mdl-button--colored":"";this.primary=b.primary||!1;this.addon+=this.primary?" mdl-button--primary":"";this.accent=b.accent||!1;this.addon+=this.accent?" mdl-button--accent":"";this.ripple=0==b.ripple?!1:!0;this.addon+=this.ripple?" mdl-js-ripple-effect":"";this.style="mdl-button mdl-js-button"+this.addon;this.label=b.label||"Submit";this.value=b.value||"";this.onclick=b.onclick||void 0;this.icon=b.icon||"";""!=this.icon&&(this.icon='<i class="material-icons">{0}</i>'.format(this.icon));
this.html='<div><button class="{0}" id="{1}" type="{2}" value="{3}" {4} form="{5}" onclick="{6}" name="{9}">{7}{8}</button></div>'.format(this.style,this.id,this.type,this.value,this.disabled,this.parent_id,this.onclick,this.icon,this.label,this.name);this.render()}function b(a,b){b=void 0===b?{}:b;b.type="file";b.id=b.id||"{0}_{1}".format(b.type,O++);e.call(this,a,b);this.label_id="label_{0}".format(this.id);this.fileType=b.fileType||"Upload a file from here";this.needQuestion||""==this.star||(this.fileType+=
this.star);this.label=b.label||this.fileType;this.icon=b.icon||"cloud_upload";this._style='style="position:absolute;top: 0;right: 0;width: 300px;height: 100%;z-index: 4;cursor: pointer;opacity: 0"';this.html=this._generate();this.render();var c=this.label_id;document.getElementById(this.id).onchange=function(){document.getElementById(c).value=this.files[0].name;document.getElementById(c).textContent=this.files[0].name}}function h(a,b){b=void 0===b?{}:b;b.type="range";b.id=b.id||"{0}_{1}".format(b.type,
U++);b.value=b.value||"0";b.needQuestion=0==b.needQuestion?!1:!0;e.call(this,a,b);this.label_id="label_{0}".format(this.id);this.width=b.width||"300px";this.max=b.max||100;this.min=b.min||0;this.step=b.step||1;this.value_prompt=b.value_prompt||"value: ";this.needQuestion||""==this.star||(this.value_prompt+=this.star);this.value_label='<label class="mdl-color-text--grey-700" id="{0}" readonly>{1}</label>'.format(this.label_id,this.value);this.html='<div class="mdl-textfield mdl-js-textfield" style="box-sizing: border-box;">{12} {6}\r\n    <div style="width:{0};"><input class="mdl-slider mdl-js-slider" type="range" form="{7}"\r\n    id="{1}" min="{2}" max="{3}" value="{4}" step="{5}" {8} {9} {10} {11}></div></div>'.format(this.width,
this.id,this.min,this.max,this.value,this.step,this.value_label,this.parent_id,this.required,this.readonly,this.autofocus,this.disabled,this.value_prompt);this.render();var c=this.label_id,f=this.id;document.getElementById(this.id).onchange=function(){document.getElementById(c).textContent=document.getElementById(f).value}}function g(a,b){b=void 0===b?{}:b;b.type="select";b.id=b.id||"{0}_{1}".format(b.type,V++);b.label=b.label||b.id;b.needQuestion=0==b.needQuestion?!1:!0;e.call(this,a,b);this.options=
b.options||["option1","option2","option3"];this.option_ids=[];this.option_values=[];for(var c in this.options)this.option_ids.push("option_{0}".format(W++)),this.option_values.push(this.options[c]);this.value=b.value||"";this.label_id="label_{0}".format(this.id);this.button_id="button_{0}".format(this.id);this.dropRight=b.dropRight||!1;this.choose_prompt=b.choose_prompt||"Choose";this._style="mdl-menu mdl-js-menu mdl-js-ripple-effect"+(this.dropRight?"mdl-menu--bottom-right":"mdl-menu--bottom-left");
this.html='<div class="mdl-textfield mdl-js-textfield">\r\n    <input id="{4}" form="{8}" class="mdl-textfield__input" readonly {5} {6} value="{7}"><button id="{0}" form="{8}" style="right: 0;"\r\n    class="mdl-button mdl-js-button mdl-button--icon">\r\n    <i class="material-icons">expand_more</i></button>\r\n    <ul id="{1}" class="{2}" for="{0}" form="{8}">{3}</ui></div>'.format(this.button_id,this.id,this._style,this._option_factory(),this.label_id,this.required,this.disabled,this.value,this.parent_id);
this.render();var f=this.option_values,h=this.label_id;c={};for(var d in this.option_ids)c.i$0=d,document.getElementById(this.option_ids[c.i$0]).onclick=function(a){return function(){document.getElementById(h).value=f[a.i$0]}}(c),c={i$0:c.i$0}}function k(a,b){b.needQuestion=0==b.needQuestion?!1:!0;e.call(this,a,b);this.expandable=(this.expandable=b.expandable||!1)?" mdl-textfield--expandable":"";this.floating=(this.floating=b.floating||!1)?" mdl-textfield--floating-label":"";this.style="mdl-textfield mdl-js-textfield{0}{1}".format(this.expandable,
this.floating);this.icon=b.icon||"";this.pattern=b.pattern||".*";this.errorInfo=b.errorInfo||"Your input is not as required!";this.accessKey=b.accessKey||"";this.defaultValue=b.defaultValue||"";this.alt=b.alt||"";this.tabIndex=b.tabIndex||"";this.needQuestion||""==this.star||(this.label+=this.star)}function m(a,b){b=void 0===b?{}:b;b.type="date";b.id=b.id||"{0}_{1}".format(b.type,K++);k.call(this,a,b);this.html=this._generate();this.render()}function l(a,b){b=void 0===b?{}:b;b.type="datetime";b.id=
b.id||"{0}_{1}".format(b.type,L++);k.call(this,a,b);this.html=this._generate();this.render()}function p(a,b){b=void 0===b?{}:b;b.type="datetime-local";b.id=b.id||"{0}_{1}".format(b.type,M++);k.call(this,a,b);this.html=this._generate();this.render()}function n(a,b){b=void 0===b?{}:b;b.type="email";b.id=b.id||"{0}_{1}".format(b.type,N++);b.label=b.label||"Please enter you email...";k.call(this,a,b);this.html=this._generate();this.render()}function q(a,b){b=void 0===b?{}:b;b.type="month";b.id=b.id||
"{0}_{1}".format(b.type,P++);k.call(this,a,b);this.html=this._generate();this.render()}function r(a,b){b=void 0===b?{}:b;b.type="password";b.id=b.id||"{0}_{1}".format(b.type,R++);b.needQuestion=b.needQuestion||!1;b.floating=0==b.floating?!1:!0;b.label=b.label||"Please enter your password...";k.call(this,a,b);this.html=this._generate();this.render()}function v(a,b){b=void 0===b?{}:b;b.type="search";b.id=b.id||"{0}_{1}".format(b.type,X++);b.expandable=0==b.expandable?!1:!0;b.floating=b.expandable?!1:
!0;b.icon=b.icon||"search";b.needQuestion=!1;k.call(this,a,b);this.html=this._generate();this.render()}function u(a,b){b=void 0===b?{}:b;b.type="tel";b.id=b.id||"{0}_{1}".format(b.type,Y++);b.label=b.label||"Please enter your telephone number...";k.call(this,a,b);this.html=this._generate();this.render()}function y(a,b){b=void 0===b?{}:b;b.type="text";b.id=b.id||"{0}_{1}".format(b.type,Z++);b.label=b.label||"Please enter some texts...";k.call(this,a,b);this.html=this._generate();this.render()}function x(a,
b){b=void 0===b?{}:b;b.type="time";b.id=b.id||"{0}_{1}".format(b.type,aa++);k.call(this,a,b);this.name=b.name||this.id;this.html=this._generate();this.render()}function E(a,b){b=void 0===b?{}:b;b.type="url";b.id=b.id||"{0}_{1}".format(b.type,ba++);b.label=b.label||"Please enter the url...";k.call(this,a,b);this.html=this._generate();this.render()}function F(a,b){b=void 0===b?{}:b;b.type="week";b.id=b.id||"{0}_{1}".format(b.type,ca++);k.call(this,a,b);this.html=this._generate();this.render()}function C(a,
b){b=void 0===b?{}:b;b.type="textarea";b.id=b.id||"{0}_{1}".format(b.type,da++);k.call(this,a,b);this.name=b.name||this.id;this.placeholder=b.placeholder||"Text lines";this.needQuestion||""==this.star||(this.placeholder+=this.star);this.cols=b.cols||"30";this.rows=b.rows||"10";this.wrap=b.wrap?'wrap="'+b.wrap+'" ':"";this.html=this._generate();this.render()}function w(a,b){b=void 0===b?{}:b;b.newline=b.newline||!1;e.call(this,a,b);this.ripple=0==b.ripple?!1:!0;this.toggle_type=b.toggle_type;this.value=
b.value||this.label;this.checked=b.checked?'checked="checked"':""}function A(a,b){b=void 0===b?{}:b;b.type="checkbox";b.id=b.id||"{0}_{1}".format(b.type,B++);b.toggle_type="checkbox";b.label=b.label||"Checkbox #{0}".format(B-1);w.call(this,a,b);this.type_class="mdl-checkbox__input";var c=this.label.startsWith("<div")&&this.label.endsWith("</div>");this.content_class=c?'<span class="mdl-checkbox__label">{0}</span>'.format(this.value):'<span class="mdl-checkbox__label">{0}</span>'.format(this.label);
this.html=this._generate();c&&(this.html+=this.label)}function G(a,b){b=void 0===b?{}:b;b.type="checkbox";b.id=b.id||"{0}_{1}".format(b.type,B++);b.toggle_type="switch";b.label=b.label||"Switch #{0}".format(B-1);w.call(this,a,b);this.type_class="mdl-switch__input";var c=this.label.startsWith("<div")&&this.label.endsWith("</div>");this.content_class=c?'<span class="mdl-switch__label">{0}</span>'.format(this.value):'<span class="mdl-switch__label">{0}</span>'.format(this.label);this.html=this._generate();
c&&(this.html+=this.label)}function H(a,b){b=void 0===b?{}:b;b.type="radio";b.id=b.id||"{0}_{1}".format(b.type,I++);b.toggle_type="radio";b.label=b.label||"Radio #{0}".format(I-1);w.call(this,a,b);this.type_class="mdl-radio__button";this.label.startsWith("<div")&&this.label.endsWith("</div>")?this.content_class='<span class="mdl-radio__label">{0}{1}</span>'.format(this.value,this.label):this.content_class='<span class="mdl-radio__label">{0}</span>'.format(this.label);this.html=this._generate()}function D(a,
b){b.id=b.id||"Toggle_group_{0}".format(ea++);b.type=b.type||"checkbox";b.name=b.name||b.id;b.label=b.label||b.id;b.needQuestion=0==b.needQuestion?!1:!0;b.images=b.images||[];b.labels=b.labels||[];b.values=b.values||[];b.correctAnswers=b.correctAnswers||[];e.call(this,a,b);for(var c in b.labels)if(b.values.length<b.labels.length)b.values.push(b.labels[c]);else break;if(0<b.images.length)for(c in b.images)b.labels.push('<div class="mdl-card mdl-shadow--2dp" \r\n          style="width: 256px;height: 256px;background: url({0}) center/cover;"></div>'.format(b.images[c])),
b.values.length<b.labels.length&&b.values.push(b.images[c]);this.values=b.values;this.labels=b.labels;this.correctAnswers={};for(c=0;c<b.correctAnswers.length;c++)this.correctAnswers[b.correctAnswers[c]]=!0;this.html="";var f=this._selector();this.products=[];for(c in this.labels){b.label=this.labels[c];b.value=this.values[c];b.id="";void 0==this.correctAnswers[b.value]&&(this.correctAnswers[b.value]=!1);b.correct=this.correctAnswers[b.value];var h=f(this.parent_id,b);this.products.push(h);this.html+=
h.html+"\n"}this.html='<br><div id="{0}">'.format(this.id)+this.html+"</div><br>";this.render()}String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});String.prototype.startsWith||(String.prototype.startsWith=function(a){return this.slice(0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});String.prototype.capitalize||
(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)});var B=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,R=0,I=0,U=0,X=0,Y=0,Z=0,aa=0,ba=0,ca=0,ea=0,T=0,V=0,W=0,da=0,S=0;a.prototype.render=function(){this.display_element.innerHTML=this.html};e.prototype={render:function(){this.newline&&(this.html="<br>"+this.html);document.getElementById(this.parent_id).insertAdjacentHTML("beforeend",this.question_html+this.question_description_html+this.html)}};f.prototype=d(e.prototype);b.prototype=
d(e.prototype);b.prototype._generate=function(){return'<div class="mdl-textfield mdl-js-textfield" style="box-sizing: border-box;">\r\n    <input id="{3}" class="mdl-textfield__input" readonly placeholder="{4}">\r\n    <label class="mdl-textfield__label" for="{3}"></label></div>\r\n    <div class="mdl-button mdl-js-button mdl-button--primary mdl-button--icon" style="right: 0;">\r\n    <i class="material-icons">{0}</i>\r\n    <input type="file" id="{1}" {2} {3} {4} {5} {6} style="padding-botton: 36px"></div>'.format(this.icon,
this.id,this._style,this.label_id,this.fileType,this.required,this.readonly,this.disabled,this.autofocus)};h.prototype=d(e.prototype);g.prototype=d(e.prototype);g.prototype._option_factory=function(){var a='<li disabled class="mdl-menu__item mdl-menu__item--full-bleed-divider">{0}</li>'.format(this.choose_prompt),b;for(b in this.options)a+='<li id="{1}" value="{2}" class="mdl-menu__item">{0}</li>'.format(this.options[b],this.option_ids[b],this.option_values[b]);return a};k.prototype=d(e.prototype);
k.prototype._generate=function(){var a='<input class="mdl-textfield__input" type="{0}" id="{1}" maxlength="{2}" size="{3}"\r\n    {4} {5} pattern="{6}" {7} {8} {9} {10} {11} {12} value="{13}" form="{14}" placeholder="{15}"">'.format(this.type,this.id,this.maxlength,this.size,this.required,this.readonly,this.pattern,this.disabled,this.autofocus,this.accessKey,this.alt,this.defaultValue,this.tabIndex,this.value,this.parent_id,this.label)+'<span class="mdl-textfield__error">{0}</span>'.format(this.errorInfo);
""!=this.expandable&&(a='<div class="mdl-textfield__expandable-holder">'+a+"</div>");""!=this.icon&&(a='<label class="mdl-button mdl-js-button mdl-button--icon" for="{0}"><i class="material-icons">{1}</i></label>'.format(this.id,this.icon)+a);return'<div class="{0}">{1}<div>'.format(this.style,a)};m.prototype=d(k.prototype);l.prototype=d(k.prototype);p.prototype=d(k.prototype);n.prototype=d(k.prototype);q.prototype=d(k.prototype);(function(a,b){b=void 0===b?{}:b;b.type="number";b.id=b.id||"{0}_{1}".format(b.type,
Q++);b.label=b.label||"Please enter a number...";k.call(this,a,b);this.html=this._generate();this.render()}).prototype=d(k.prototype);r.prototype=d(k.prototype);v.prototype=d(k.prototype);u.prototype=d(k.prototype);y.prototype=d(k.prototype);x.prototype=d(k.prototype);E.prototype=d(k.prototype);F.prototype=d(k.prototype);C.prototype=d(e.prototype);C.prototype._generate=function(){var a='<textarea class="mdl-textfield__input" id="{0}" rows={1} columns={2} form="{4}" maxlength="{4}" {5} {6} {7} {8} {9} name="{10}" placeholder="{11}"></textarea>'.format(this.id,
this.rows,this.cols,this.parent_id,this.maxlength,this.readonly,this.required,this.disabled,this.autofocus,this.wrap,this.name,this.placeholder);return'<div class="{0}">{1}<div>'.format(this.style,a)};w.prototype=d(e.prototype);w.prototype._generate=function(){var a='<label for="{0}" class="mdl-{1} mdl-js-{1}{2}">'.format(this.id,this.toggle_type,""+(this.ripple?" mdl-js-ripple-effect":"")),a=a+'<input type="{0}" id="{1}" class="{2}" form="{3}" {4} {5} {6} value="{7}" name="{8}" {9}>'.format(this.type,
this.id,this.type_class,this.parent_id,this.checked,this.autofocus,this.required,this.value,this.name,this.readonly);return a+=this.content_class+"</label>"};A.prototype=d(w.prototype);G.prototype=d(w.prototype);H.prototype=d(w.prototype);D.prototype=d(e.prototype);D.prototype._selector=function(){switch(this.type){case "checkbox":return function(a,b){return new A(a,b)};case "switch":return function(a,b){return new G(a,b)};case "radio":return function(a,b){return new H(a,b)}}};return{trial:function(a,
b){function e(){var c=void 0;void 0!=b.schema.onSubmit.onclick&&(c=b.schema.onSubmit.onclick,void 0==c?c=void 0:"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?c=c():(document.addEventListener("DOMContentLoaded",c),c=void 0));for(var e=0;e<d.length;e++){var f=d[e],h=f.question||f.label||f.type;switch(f.type){case "select":if(void 0==f.correct)var l=document.getElementById(f.label_id).value;else l=document.getElementById(f.label_id).value,l={Result:f.correct==
l?"Correct":"Wrong","Expected Answer":f.correct,"Answer Received":l};if(""!=f.required&&(!l||""==l["Answer Received"])){document.getElementById(f.label_id).focus();return}break;case "checkbox":case "radio":case "switch":var k=!1,m=!0;l={Result:"Correct","Expected Answers":[],"Answers Chosen":[]};for(var n=Object.keys(f.correctAnswers),p=0;p<n.length;p++){var q=n[p];f.correctAnswers[q]&&l["Expected Answers"].push(q)}for(p=0;p<f.products.length;p++){product=f.products[p];if(checked=document.getElementById(product.id).checked)k=
!0,l["Answers Chosen"].push(product.value);product.correct!=checked&&(m=!1)}l.Result=m?"Correct":"Wrong";if(""!=f.required&&!k){document.getElementById(f.id).scrollIntoView();document.getElementById(f.products[0].id).focus();return}break;default:if(void 0==f.correct?l=document.getElementById(f.id).value:(l="{0}".format(document.getElementById(f.id).value),l={Result:"{0}".format(f.correct).trim()==l.trim()?"Correct":"Wrong","Expected Answer":f.correct,"Answer Received":document.getElementById(f.id).value}),
""!=f.required&&(!l||""==l["Answer Received"])){document.getElementById(f.id).focus();return}}g[h]=l}c&&(g["#Customized Output#"]=c);a.innerHTML="";jsPsych.finishTrial(g)}b.schema=b.schema||{};b.schema.onSubmit=b.schema.onSubmit||{label:"Submit"};var f=c(a,b.schema),h=f[0],d=f[1],g={Form:h.form_title,Form_Description:h.form_description};document.getElementById(f[2].id).onclick=function(){e()}}}}();jsPsych.plugins["free-sort"]=function(){var d={};jsPsych.pluginAPI.registerPreload("free-sort","stimuli","image");d.info={name:"free-sort",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Stimuli","default":void 0,array:!0,description:"Images to be displayed."},stim_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus height","default":100,description:"Height of images in pixels."},stim_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus width",
"default":100,description:"Width of images in pixels"},sort_area_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sort area height","default":800,description:"The height of the container that subjects can move the stimuli in."},sort_area_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sort area width","default":800,description:"The width of the container that subjects can move the stimuli in."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",
description:"It can be used to provide a reminder about the action the subject is supposed to take."},prompt_location:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Prompt location",options:["above","below"],"default":"above",description:'Indicates whether to show prompt "above" or "below" the sorting area.'},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Done",description:"The text that appears on the button to continue to the next trial."}}};
d.trial=function(c,a){var e=(new Date).getTime(),f="";a.prompt&&"above"==a.prompt_location&&(f+=a.prompt);f+='<div id="jspsych-free-sort-arena" class="jspsych-free-sort-arena" style="position: relative; width:'+a.sort_area_width+"px; height:"+a.sort_area_height+'px; border:2px solid #444;"></div>';a.prompt&&"below"==a.prompt_location&&(f+=a.prompt);c.innerHTML=f;for(var b=[],f=0;f<a.stimuli.length;f++){var h=Math.floor(Math.random()*(a.sort_area_width-a.stim_width-1)),d=Math.floor(Math.random()*(a.sort_area_height-
a.stim_height-1));c.querySelector("#jspsych-free-sort-arena").innerHTML+='<img src="'+a.stimuli[f]+'" data-src="'+a.stimuli[f]+'" class="jspsych-free-sort-draggable" draggable="false" style="position: absolute; cursor: move; width:'+a.stim_width+"px; height:"+a.stim_height+"px; top:"+d+"px; left:"+h+'px;"></img>';b.push({src:a.stimuli[f],x:h,y:d})}c.innerHTML+='<button id="jspsych-free-sort-done-btn" class="jspsych-btn">'+a.button_label+"</button>";for(var k=1,m=[],h=c.querySelectorAll(".jspsych-free-sort-draggable"),
f=0;f<h.length;f++)h[f].addEventListener("mousedown",function(b){var c=b.pageX-b.currentTarget.offsetLeft,e=b.pageY-b.currentTarget.offsetTop-window.scrollY,f=b.currentTarget;f.style.zIndex=++k;var h=function(b){f.style.top=Math.min(a.sort_area_height-a.stim_height,Math.max(0,b.clientY-e))+"px";f.style.left=Math.min(a.sort_area_width-a.stim_width,Math.max(0,b.clientX-c))+"px"};document.addEventListener("mousemove",h);var d=function(a){document.removeEventListener("mousemove",h);m.push({src:f.dataset.src,
x:f.offsetLeft,y:f.offsetTop});document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d)});c.querySelector("#jspsych-free-sort-done-btn").addEventListener("click",function(){for(var a=(new Date).getTime()-e,f=[],h=c.querySelectorAll(".jspsych-free-sort-draggable"),d=0;d<h.length;d++)f.push({src:h[d].dataset.src,x:h[d].style.position.left,y:h[d].style.position.top});a={init_locations:JSON.stringify(b),moves:JSON.stringify(m),final_locations:JSON.stringify(f),rt:a};c.innerHTML=
"";jsPsych.finishTrial(a)})};return d}();jsPsych.plugins.fullscreen=function(){var d={};d.info={name:"fullscreen",description:"",parameters:{fullscreen_mode:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Fullscreen mode","default":!0,array:!1,description:"If true, experiment will enter fullscreen mode. If false, the browser will exit fullscreen mode."},message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Message","default":"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1,
description:"HTML content to display above the button to enter fullscreen mode."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Go",array:!1,description:"The text that appears on the button to enter fullscreen."},delay_after:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Delay after","default":1E3,array:!1,description:"The length of time to delay after entering fullscreen mode before ending the trial."}}};d.trial=function(c,a){function e(){c.innerHTML=
"";jsPsych.pluginAPI.setTimeout(function(){jsPsych.finishTrial({success:!f})},a.delay_after)}var f="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element;f?e():a.fullscreen_mode?(c.innerHTML=a.message+'<button id="jspsych-fullscreen-btn" class="jspsych-btn">'+a.button_label+"</button>",c.querySelector("#jspsych-fullscreen-btn").addEventListener("click",function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?
a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen();e()})):(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),e())};return d}();jsPsych.plugins["html-button-response"]=function(){var d={};d.info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":[],array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button html","default":'<button class="jspsych-btn">%choice%</button>',
array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},
margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical","default":"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal","default":"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, then trial will end when user responds."}}};d.trial=function(c,
a){function e(){jsPsych.pluginAPI.clearAllTimeouts();var b={rt:d.rt,stimulus:a.stimulus,button_pressed:d.button};c.innerHTML="";jsPsych.finishTrial(b)}c.innerHTML='<div id="jspsych-html-button-response-stimulus">'+a.stimulus+"</div>";var f=[];if(Array.isArray(a.button_html))a.button_html.length==a.choices.length?f=a.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var b=0;b<a.choices.length;b++)f.push(a.button_html);
c.innerHTML+='<div id="jspsych-html-button-response-btngroup"></div>';for(b=0;b<a.choices.length;b++){var h=f[b].replace(/%choice%/g,a.choices[b]);c.querySelector("#jspsych-html-button-response-btngroup").insertAdjacentHTML("beforeend",'<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+a.margin_vertical+" "+a.margin_horizontal+'" id="jspsych-html-button-response-button-'+b+'" data-choice="'+b+'">'+h+"</div>");c.querySelector("#jspsych-html-button-response-button-"+
b).addEventListener("click",function(b){b=b.currentTarget.getAttribute("data-choice");var f=Date.now()-k;d.button=b;d.rt=f;c.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";b=document.querySelectorAll(".jspsych-html-button-response-button button");for(f=0;f<b.length;f++)b[f].setAttribute("disabled","disabled");a.response_ends_trial&&e()})}""!==a.prompt&&c.insertAdjacentHTML("beforeend",a.prompt);var d={rt:-1,button:-1},k=0,k=Date.now();0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-html-button-response-stimulus").style.visibility=
"hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration)};return d}();jsPsych.plugins["html-keyboard-response"]=function(){var d={};d.info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"stimulus","default":void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices","default":jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,
description:"If true, trial will end when subject makes a response."}}};d.trial=function(c,a){var e,f='<div id="jspsych-html-keyboard-response-stimulus">'+a.stimulus+"</div>",f=f+a.prompt;c.innerHTML=f;var b={rt:-1,key:-1},d=function(){jsPsych.pluginAPI.clearAllTimeouts();"undefined"!==typeof e&&jsPsych.pluginAPI.cancelKeyboardResponse(e);var f={rt:b.rt,stimulus:a.stimulus,key_press:b.key};c.innerHTML="";jsPsych.finishTrial(f)},f=function(e){c.querySelector("#jspsych-html-keyboard-response-stimulus").className+=
" responded";-1==b.key&&(b=e);a.response_ends_trial&&d()};a.choices!=jsPsych.NO_KEYS&&(e=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:a.choices,rt_method:"date",persist:!1,allow_held_key:!1}));0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){d()},a.trial_duration)};return d}();jsPsych.plugins["html-slider-response"]=function(){var d={};d.info={name:"html-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":void 0,description:"The HTML string to be displayed"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider","default":0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Max slider","default":100,description:"Sets the maximum value of the slider"},
step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step","default":1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Labels","default":[],array:!0,description:"Labels of the slider."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":void 0,array:!1,description:"Label of the button to advance."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the slider."},
stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when user makes a response."}}};d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();
var a={rt:g.rt,response:g.response};c.innerHTML="";jsPsych.finishTrial(a)}var f='<div id="jspsych-html-slider-response-wrapper" style="margin: 100px 0px;">'+('<div id="jspsych-html-slider-response-stimulus">'+a.stimulus+"</div>");f=f+'<div class="jspsych-html-slider-response-container" style="position:relative;">'+('<input type="range" min="'+a.min+'" max="'+a.max+'" step="'+a.step+'" style="width: 100%;" id="jspsych-html-slider-response-response"></input>');f+="<div>";for(var b=0;b<a.labels.length;b++){var d=
100/(a.labels.length-1);f+='<div style="display: inline-block; position: absolute; left:'+(100/(a.labels.length-1)*b-d/2)+"%; text-align: center; width: "+d+'%;">';f+='<span style="text-align: center; font-size: 80%;">'+a.labels[b]+"</span>";f+="</div>"}f=f+"</div></div></div>"+a.prompt;f+='<button id="jspsych-html-slider-response-next" class="jspsych-btn">'+a.button_label+"</button>";c.innerHTML=f;var g={rt:-1,response:-1};c.querySelector("#jspsych-html-slider-response-next").addEventListener("click",
function(){var b=(new Date).getTime();g.rt=b-k;g.response=c.querySelector("#jspsych-html-slider-response-response").value;a.response_ends_trial?e():c.querySelector("#jspsych-html-slider-response-next").disabled=!0});0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-html-slider-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration);var k=(new Date).getTime()};return d}();jsPsych.plugins["iat-html"]=function(){var d={};d.info={name:"iat-html",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":void 0,description:"The HTML string to be displayed."},left_category_key:{type:jsPsych.plugins.parameterType.HTML,pretty_name:"Left category key","default":"E",description:"Key press that is associated with the left category label."},right_category_key:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Right category key",
"default":"I",description:"Key press that is associated with the right category label."},left_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,"default":["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,"default":["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},
key_to_move_forward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key to move forward",array:!0,"default":jsPsych.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Display feedback","default":!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:jsPsych.plugins.parameterType.HTML_STRING,
pretty_name:"HTML when wrong","default":'<span style="color: red; font-size: 80px">X</span>',description:"The image to display when a user presses the wrong key."},bottom_instructions:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions","default":"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct key press",
"default":!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:jsPsych.plugins.parameterType.HTML,pretty_name:"Stimulus key association",options:["left","right"],"default":"undefined",description:'Stimulus will be associated with eight "left" or "right".'},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when user makes a response."},
trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."}}};d.trial=function(c,a){var e;var f=""+("<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><p id='jspsych-iat-stim'>"+a.stimulus+"</p></div>");f+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>";f=1==a.left_category_label.length?f+("<p>Press "+a.left_category_key+
" for:<br> "+a.left_category_label[0].bold()+"</p></div>"):f+("<p>Press "+a.left_category_key+" for:<br> "+a.left_category_label[0].bold()+"<br>or<br>"+a.left_category_label[1].bold()+"</p></div>");f+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>";f=1==a.right_category_label.length?f+("<p>Press "+a.right_category_key+" for:<br> "+a.right_category_label[0].bold()+"</p></div>"):f+("<p>Press "+a.right_category_key+" for:<br> "+a.right_category_label[0].bold()+"<br>or<br>"+
a.right_category_label[1].bold()+"</p></div>");f+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>";!0===a.display_feedback&&(f+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+a.html_when_wrong+"</p></div>");f+="<div>"+a.bottom_instructions+"</div>";c.innerHTML=f+"</div>";var b={rt:-1,key:-1,correct:!1},d=function(){jsPsych.pluginAPI.clearAllTimeouts();
"undefined"!==typeof e&&jsPsych.pluginAPI.cancelKeyboardResponse(e);var f={rt:b.rt,stimulus:a.stimulus,key_press:b.key,correct:b.correct};c.innerHTML="";jsPsych.finishTrial(f)},g=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.left_category_key),k=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.right_category_key);f=function(e){var f=document.getElementById("wrongImgContainer");c.querySelector("#jspsych-iat-stim").className+=" responded";-1==b.key&&(b=e);"right"==a.stim_key_association?-1<b.rt&&
b.key==k?(b.correct=!0,a.response_ends_trial&&d()):(b.correct=!1,a.response_ends_trial||1!=a.display_feedback||(f.style.visibility="visible"),a.response_ends_trial&&1==a.display_feedback?(f.style.visibility="visible",a.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[a.right_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:a.key_to_move_forward})):a.response_ends_trial&&1!=a.display_feedback&&jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,
valid_responses:[jsPsych.ALL_KEYS]})):"left"==a.stim_key_association&&(-1<b.rt&&b.key==g?(b.correct=!0,a.response_ends_trial&&d()):(b.correct=!1,a.response_ends_trial||1!=a.display_feedback||(f.style.visibility="visible"),a.response_ends_trial&&1==a.display_feedback?(f.style.visibility="visible",a.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[a.left_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:a.key_to_move_forward})):
a.response_ends_trial&&1!=a.display_feedback&&jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[jsPsych.ALL_KEYS]})))};a.left_category_key!=jsPsych.NO_KEYS&&a.right_category_key!=jsPsych.NO_KEYS&&(e=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[a.left_category_key,a.right_category_key],rt_method:"date",persist:!1,allow_held_key:!1}));0<a.trial_duration&&1!=a.response_ends_trial&&jsPsych.pluginAPI.setTimeout(function(){d()},a.trial_duration)};
return d}();jsPsych.plugins["iat-image"]=function(){var d={};jsPsych.pluginAPI.registerPreload("iat-image","stimulus","image");d.info={name:"iat-image",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus","default":void 0,description:"The image to be displayed"},left_category_key:{type:jsPsych.plugins.parameterType.HTML,pretty_name:"Left category key","default":"E",description:"Key press that is associated with the left category label."},right_category_key:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Right category key","default":"I",description:"Key press that is associated with the right category label."},left_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,"default":["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,"default":["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},
key_to_move_forward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key to move forward",array:!0,"default":jsPsych.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Display feedback","default":!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:jsPsych.plugins.parameterType.HTML_STRING,
pretty_name:"HTML when wrong","default":'<span style="color: red; font-size: 80px">X</span>',description:"The image to display when a user presses the wrong key."},bottom_instructions:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions","default":"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct key press",
"default":!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:jsPsych.plugins.parameterType.HTML,pretty_name:"Stimulus key association",options:["left","right"],"default":"undefined",description:'Stimulus will be associated with eight "left" or "right".'},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when user makes a response."},
trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."}}};d.trial=function(c,a){var e;var f=""+("<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><img src='"+a.stimulus+"' id='jspsych-iat-stim'></img></div>");f+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>";f=1==a.left_category_label.length?f+("<p>Press "+a.left_category_key+
" for:<br> "+a.left_category_label[0].bold()+"</p></div>"):f+("<p>Press "+a.left_category_key+" for:<br> "+a.left_category_label[0].bold()+"<br>or<br>"+a.left_category_label[1].bold()+"</p></div>");f+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>";f=1==a.right_category_label.length?f+("<p>Press "+a.right_category_key+" for:<br> "+a.right_category_label[0].bold()+"</p></div>"):f+("<p>Press "+a.right_category_key+" for:<br> "+a.right_category_label[0].bold()+"<br>or<br>"+
a.right_category_label[1].bold()+"</p></div>");f+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>";!0===a.display_feedback&&(f+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+a.html_when_wrong+"</p></div>");f+="<div>"+a.bottom_instructions+"</div>";c.innerHTML=f+"</div>";var b={rt:-1,key:-1,correct:!1},d=function(){jsPsych.pluginAPI.clearAllTimeouts();
"undefined"!==typeof e&&jsPsych.pluginAPI.cancelKeyboardResponse(e);var f={rt:b.rt,stimulus:a.stimulus,key_press:b.key,correct:b.correct};c.innerHTML="";jsPsych.finishTrial(f)},g=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.left_category_key),k=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.right_category_key);f=function(e){var f=document.getElementById("wrongImgContainer");c.querySelector("#jspsych-iat-stim").className+=" responded";-1==b.key&&(b=e);"right"==a.stim_key_association?-1<b.rt&&
b.key==k?(b.correct=!0,a.response_ends_trial&&d()):(b.correct=!1,a.response_ends_trial||1!=a.display_feedback||(f.style.visibility="visible"),a.response_ends_trial&&1==a.display_feedback?(f.style.visibility="visible",a.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[a.right_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:a.key_to_move_forward})):a.response_ends_trial&&1!=a.display_feedback&&jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,
valid_responses:[jsPsych.ALL_KEYS]})):"left"==a.stim_key_association&&(-1<b.rt&&b.key==g?(b.correct=!0,a.response_ends_trial&&d()):(b.correct=!1,a.response_ends_trial||1!=a.display_feedback||(f.style.visibility="visible"),a.response_ends_trial&&1==a.display_feedback?(f.style.visibility="visible",a.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[a.left_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:a.key_to_move_forward})):
a.response_ends_trial&&1!=a.display_feedback&&jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[jsPsych.ALL_KEYS]})))};a.left_category_key!=jsPsych.NO_KEYS&&a.right_category_key!=jsPsych.NO_KEYS&&(e=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[a.left_category_key,a.right_category_key],rt_method:"date",persist:!1,allow_held_key:!1}));0<a.trial_duration&&1!=a.response_ends_trial&&jsPsych.pluginAPI.setTimeout(function(){d()},a.trial_duration)};
return d}();jsPsych.plugins["image-button-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("image-button-response","stimulus","image");d.info={name:"image-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus","default":void 0,description:"The image to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":[],array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Button html","default":'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical","default":"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal","default":"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,
description:"If true, then trial will end when user responds."}}};d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();var b={rt:g.rt,stimulus:a.stimulus,button_pressed:g.button};c.innerHTML="";jsPsych.finishTrial(b)}"undefined"===typeof a.choices&&console.error('Required parameter "choices" missing in image-button-response');"undefined"===typeof a.stimulus&&console.error('Required parameter "stimulus" missing in image-button-response');var f='<img src="'+a.stimulus+'" id="jspsych-image-button-response-stimulus"></img>',
b=[];if(Array.isArray(a.button_html))a.button_html.length==a.choices.length?b=a.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var d=0;d<a.choices.length;d++)b.push(a.button_html);c.innerHTML=f+'<div id="jspsych-image-button-response-btngroup"></div>';for(d=0;d<a.choices.length;d++)f=b[d].replace(/%choice%/g,a.choices[d]),c.querySelector("#jspsych-image-button-response-btngroup").insertAdjacentHTML("beforeend",
'<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+a.margin_vertical+" "+a.margin_horizontal+'" id="jspsych-image-button-response-button-'+d+'" data-choice="'+d+'">'+f+"</div>"),c.querySelector("#jspsych-image-button-response-button-"+d).addEventListener("click",function(b){b=b.currentTarget.getAttribute("data-choice");var f=Date.now()-k;g.button=b;g.rt=f;c.querySelector("#jspsych-image-button-response-stimulus").className+=" responded";b=document.querySelectorAll(".jspsych-image-button-response-button button");
for(f=0;f<b.length;f++)b[f].setAttribute("disabled","disabled");a.response_ends_trial&&e()});""!==a.prompt&&c.insertAdjacentHTML("beforeend",a.prompt);var g={rt:-1,button:-1},k=0,k=Date.now();0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-image-button-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration)};return d}();jsPsych.plugins["image-keyboard-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("image-keyboard-response","stimulus","image");d.info={name:"image-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"stimulus","default":void 0,description:"The image to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices","default":jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},
prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,
pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when subject makes a response."}}};d.trial=function(c,a){var e,f='<img src="'+a.stimulus+'" id="jspsych-image-keyboard-response-stimulus"></img>',f=f+a.prompt;c.innerHTML=f;var b={rt:-1,key:-1},d=function(){jsPsych.pluginAPI.clearAllTimeouts();"undefined"!==typeof e&&jsPsych.pluginAPI.cancelKeyboardResponse(e);var f={rt:b.rt,stimulus:a.stimulus,key_press:b.key};c.innerHTML="";jsPsych.finishTrial(f)},f=function(e){c.querySelector("#jspsych-image-keyboard-response-stimulus").className+=
" responded";-1==b.key&&(b=e);a.response_ends_trial&&d()};a.choices!=jsPsych.NO_KEYS&&(e=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:a.choices,rt_method:"date",persist:!1,allow_held_key:!1}));0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-image-keyboard-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){d()},a.trial_duration)};return d}();jsPsych.plugins["image-slider-response"]=function(){var d={};jsPsych.pluginAPI.registerPreload("image-slider-response","stimulus","image");d.info={name:"image-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus","default":void 0,description:"The image to be displayed"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider","default":0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"Max slider","default":100,description:"Sets the maximum value of the slider"},step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step","default":1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Labels","default":[],array:!0,description:"Labels of the slider."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":void 0,array:!1,description:"Label of the button to advance."},prompt:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the slider."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when user makes a response."}}};
d.trial=function(c,a){function e(){jsPsych.pluginAPI.clearAllTimeouts();var a={rt:g.rt,response:g.response};c.innerHTML="";jsPsych.finishTrial(a)}var f='<div id="jspsych-image-slider-response-wrapper" style="margin: 100px 0px;">'+('<div id="jspsych-image-slider-response-stimulus"><img src="'+a.stimulus+'"></div>');f=f+'<div class="jspsych-image-slider-response-container" style="position:relative;">'+('<input type="range" min="'+a.min+'" max="'+a.max+'" step="'+a.step+'" style="width: 100%;" id="jspsych-image-slider-response-response"></input>');
f+="<div>";for(var b=0;b<a.labels.length;b++){var d=100/(a.labels.length-1);f+='<div style="display: inline-block; position: absolute; left:'+(100/(a.labels.length-1)*b-d/2)+"%; text-align: center; width: "+d+'%;">';f+='<span style="text-align: center; font-size: 80%;">'+a.labels[b]+"</span>";f+="</div>"}f=f+"</div></div></div>"+a.prompt;f+='<button id="jspsych-image-slider-response-next" class="jspsych-btn">'+a.button_label+"</button>";c.innerHTML=f;var g={rt:-1,response:-1};c.querySelector("#jspsych-image-slider-response-next").addEventListener("click",
function(){var b=(new Date).getTime();g.rt=b-k;g.response=c.querySelector("#jspsych-image-slider-response-response").value;a.response_ends_trial?e():c.querySelector("#jspsych-image-slider-response-next").disabled=!0});0<a.stimulus_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector("#jspsych-image-slider-response-stimulus").style.visibility="hidden"},a.stimulus_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e()},a.trial_duration);var k=(new Date).getTime()};return d}();jsPsych.plugins.instructions=function(){var d={};d.info={name:"instructions",description:"",parameters:{pages:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Pages","default":void 0,array:!0,description:"Each element of the array is the content for a single page."},key_forward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key forward","default":"rightarrow",description:"The key the subject can press in order to advance to the next page."},key_backward:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Key backward","default":"leftarrow",description:"The key that the subject can press to return to the previous page."},allow_backward:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow backward","default":!0,description:"If true, the subject can return to the previous page of the instructions."},allow_keys:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow keys","default":!0,description:"If true, the subject can use keyboard keys to navigate the pages."},show_clickable_nav:{type:jsPsych.plugins.parameterType.BOOL,
pretty_name:"Show clickable nav","default":!1,description:'If true, then a "Previous" and "Next" button will be displayed beneath the instructions.'},button_label_previous:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label previous","default":"Previous",description:"The text that appears on the button to go backwards."},button_label_next:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label next","default":"Next",description:"The text that appears on the button to go forwards."}}};
d.trial=function(c,a){function e(a){a.target.removeEventListener("click",e);"jspsych-instructions-back"===this.id?(d(),k--,f()):"jspsych-instructions-next"===this.id&&b()}function f(){c.innerHTML=a.pages[k];if(a.show_clickable_nav){var b="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";0!=k&&a.allow_backward&&(b+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;'>&lt; "+a.button_label_previous+"</button>");b+="<button id='jspsych-instructions-next' class='jspsych-btn' style='margin-left: 5px;'>"+
a.button_label_next+" &gt;</button></div>";c.innerHTML+=b;0!=k&&a.allow_backward&&c.querySelector("#jspsych-instructions-back").addEventListener("click",e);c.querySelector("#jspsych-instructions-next").addEventListener("click",e)}}function b(){d();k++;if(k>=a.pages.length){a.allow_keys&&jsPsych.pluginAPI.cancelKeyboardResponse(g);c.innerHTML="";var b={view_history:JSON.stringify(m),rt:(new Date).getTime()-l};jsPsych.finishTrial(b)}else f()}function d(){var a=(new Date).getTime();m.push({page_index:k,
viewing_time:a-p});p=a}var g,k=0,m=[],l=(new Date).getTime(),p=l,n=function(c){g=jsPsych.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[a.key_forward,a.key_backward],rt_method:"date",persist:!1,allow_held_key:!1});c.key!==a.key_backward&&c.key!==jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.key_backward)||0===k||!a.allow_backward||(d(),k--,f());c.key!==a.key_forward&&c.key!==jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.key_forward)||b()};f();a.allow_keys&&(g=jsPsych.pluginAPI.getKeyboardResponse({callback_function:n,
valid_responses:[a.key_forward,a.key_backward],rt_method:"date",persist:!1}))};return d}();jsPsych.plugins.reconstruction=function(){var d={};d.info={name:"reconstruction",description:"",parameters:{stim_function:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Stimulus function","default":void 0,description:"A function with a single parameter that returns an HTML-formatted string representing the stimulus."},starting_value:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Starting value","default":.5,description:"The starting value of the stimulus parameter."},step_size:{type:jsPsych.plugins.parameterType.FLOAT,
pretty_name:"Step size","default":.05,description:"The change in the stimulus parameter caused by pressing one of the modification keys."},key_increase:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key increase","default":"h",description:"The key to press for increasing the parameter value."},key_decrease:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key decrease","default":"g",description:"The key to press for decreasing the parameter value."},button_label:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Button label","default":"Next",description:"The text that appears on the button to finish the trial."}}};d.trial=function(c,a){function e(b){c.innerHTML='<div id="jspsych-reconstruction-stim-container">'+a.stim_function(b)+"</div>";c.innerHTML+='<button id="jspsych-reconstruction-next" class="jspsych-btn jspsych-reconstruction">'+a.button_label+"</button>";c.querySelector("#jspsych-reconstruction-next").addEventListener("click",f)}function f(){var e={rt:(new Date).getTime()-d,final_value:b,
start_value:a.starting_value};c.innerHTML="";jsPsych.finishTrial(e)}var b=a.starting_value;jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(c){var f="string"==typeof a.key_increase?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.key_increase):a.key_increase,d="string"==typeof a.key_decrease?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.key_decrease):a.key_decrease;c.key==f?b+=a.step_size:c.key==d&&(b-=a.step_size);b=Math.max(Math.min(1,b),0);e(b)},valid_responses:[a.key_increase,
a.key_decrease],rt_method:"date",persist:!0,allow_held_key:!0});e(b);var d=(new Date).getTime()};return d}();jsPsych.plugins.resize=function(){var d={};d.info={name:"resize",description:"",parameters:{item_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Item height","default":1,description:"The height of the item to be measured."},item_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Item width","default":1,description:"The width of the item to be measured."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"The content displayed below the resizable box and above the button."},
pixels_per_unit:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pixels per unit","default":100,description:"After the scaling factor is applied, this many pixels will equal one unit of measurement."},starting_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Starting size","default":100,description:"The initial size of the box, in pixels, along the larget dimension."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Done",description:"Label to display on the button to complete calibration."}}};
d.trial=function(c,a){var e=a.item_width/a.item_height;if(a.item_width>=a.item_height){var f=a.starting_size;var b=Math.round(a.starting_size/e)}else b=a.starting_size,f=Math.round(a.starting_size*e);f='<div id="jspsych-resize-div" style="border: 2px solid steelblue; height: '+b+"px; width:"+f+'px; margin: 7px auto; background-color: lightsteelblue; position: relative;"><div id="jspsych-resize-handle" style="cursor: nwse-resize; background-color: steelblue; width: 10px; height: 10px; border: 2px solid lightsteelblue; position: absolute; bottom: 0; right: 0;"></div></div>';
f+=a.prompt;f+='<a class="jspsych-btn" id="jspsych-resize-btn">'+a.button_label+"</a>";c.innerHTML=f;document.getElementById("jspsych-resize-btn").addEventListener("click",function(){u=n.offsetWidth;v=n.offsetHeight;r=u/a.item_width/a.pixels_per_unit;document.getElementById("jspsych-content").style.transform="scale("+r+")";document.removeEventListener("mousemove",q);document.removeEventListener("mouseup",p);c.innerHTML="";jsPsych.finishTrial({final_height_px:v,final_width_px:u,scale_factor:r})});
var d=!1,g,k,m,l;c.querySelector("#jspsych-resize-handle").addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation();d=!0;g=a.pageX;k=a.pageY;m=parseInt(n.style.width);l=parseInt(n.style.height)});var p=function(a){d=!1};document.addEventListener("mouseup",p);var n=c.querySelector("#jspsych-resize-div"),q=function(a){if(d){var b=2*(a.pageX-g);a=2*(a.pageY-k);b>=a?(n.style.width=Math.max(10,m+b)+"px",n.style.height=Math.round(Math.max(10,m+b)/e)+"px"):(n.style.height=Math.max(10,
l+a)+"px",n.style.width=Math.round(e*Math.max(10,l+a))+"px")}};document.addEventListener("mousemove",q);var r,v,u};return d}();jsPsych.plugins["same-different-image"]=function(){var d={};d.info={name:"same-different-image",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli","default":void 0,array:!0,description:"The HTML content to be displayed."},answer:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],"default":75,description:'Either "same" or "different".'},same_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Same key",
"default":"Q",description:""},different_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Different key","default":"P",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"First stimulus duration","default":1E3,description:"How long to show the first stimulus for in milliseconds."},gap_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Gap duration","default":500,
description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Second stimulus duration","default":1E3,description:"How long to show the second stimulus for in milliseconds."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."}}};d.trial=function(c,a){function e(){c.innerHTML="";jsPsych.pluginAPI.setTimeout(function(){f()},
a.gap_duration)}function f(){c.innerHTML+='<div class="jspsych-same-different-stimulus">'+a.stimuli[1]+"</div>";0<a.second_stim_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"},a.second_stim_duration);""!==a.prompt&&(c.innerHTML+=a.prompt);jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){jsPsych.pluginAPI.clearAllTimeouts();var f=!1,d="string"==typeof a.same_key?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.same_key):
a.same_key,h="string"==typeof a.different_key?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.different_key):a.different_key;e.key==d&&"same"==a.answer&&(f=!0);e.key==h&&"different"==a.answer&&(f=!0);e={rt:e.rt,answer:a.answer,correct:f,stimulus:JSON.stringify([a.stimuli[0],a.stimuli[1]]),key_press:e.key};b&&(e.rt_stim1=b.rt,e.key_press_stim1=b.key);c.innerHTML="";jsPsych.finishTrial(e)},valid_responses:[a.same_key,a.different_key],rt_method:"date",persist:!1,allow_held_key:!1})}c.innerHTML='<div class="jspsych-same-different-stimulus">'+
a.stimuli[0]+"</div>";var b;0<a.first_stim_duration?jsPsych.pluginAPI.setTimeout(function(){e()},a.first_stim_duration):jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){b=a;e()},valid_responses:a.advance_key,rt_method:"date",persist:!1,allow_held_key:!1})};return d}();jsPsych.plugins["same-different-image"]=function(){var d={};jsPsych.pluginAPI.registerPreload("same-different","stimuli","image");d.info={name:"same-different-image",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli","default":void 0,array:!0,description:"The image to be displayed."},answer:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],"default":75,description:'Either "same" or "different".'},same_key:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Same key","default":"Q",description:""},different_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Different key","default":"P",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"First stimulus duration","default":1E3,description:"How long to show the first stimulus for in milliseconds."},gap_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Gap duration",
"default":500,description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Second stimulus duration","default":1E3,description:"How long to show the second stimulus for in milliseconds."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."}}};d.trial=function(c,a){function e(){c.innerHTML="";jsPsych.pluginAPI.setTimeout(function(){f()},
a.gap_duration)}function f(){c.innerHTML+='<img class="jspsych-same-different-stimulus" src="'+a.stimuli[1]+'"></img>';0<a.second_stim_duration&&jsPsych.pluginAPI.setTimeout(function(){c.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"},a.second_stim_duration);""!==a.prompt&&(c.innerHTML+=a.prompt);jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){jsPsych.pluginAPI.clearAllTimeouts();var f=!1,d="string"==typeof a.same_key?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.same_key):
a.same_key,h="string"==typeof a.different_key?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.different_key):a.different_key;e.key==d&&"same"==a.answer&&(f=!0);e.key==h&&"different"==a.answer&&(f=!0);e={rt:e.rt,answer:a.answer,correct:f,stimulus:JSON.stringify([a.stimuli[0],a.stimuli[1]]),key_press:e.key};b&&(e.rt_stim1=b.rt,e.key_press_stim1=b.key);c.innerHTML="";jsPsych.finishTrial(e)},valid_responses:[a.same_key,a.different_key],rt_method:"date",persist:!1,allow_held_key:!1})}c.innerHTML='<img class="jspsych-same-different-stimulus" src="'+
a.stimuli[0]+'"></img>';var b;0<a.first_stim_duration?jsPsych.pluginAPI.setTimeout(function(){e()},a.first_stim_duration):jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){b=a;e()},valid_responses:a.advance_key,rt_method:"date",persist:!1,allow_held_key:!1})};return d}();jsPsych.plugins["serial-reaction-time-mouse"]=function(){var d={};d.info={name:"serial-reaction-time-mouse",description:"",parameters:{target:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target",array:!0,"default":void 0,description:"The location of the target. The array should be the [row, column] of the target."},grid:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,"default":[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},grid_square_size:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"Grid square size","default":100,description:"The width and height in pixels of each square in the grid."},target_color:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Target color","default":"#999",description:"The color of the target square."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, the trial ends after a key press."},pre_target_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre-target duration",
"default":0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial"},fade_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fade duration","default":-1,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},allow_nontarget_responses:{type:jsPsych.plugins.parameterType.BOOL,
pretty_name:"Allow nontarget response","default":!1,description:"If true, then user can make nontarget response."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus"}}};d.trial=function(c,a){function e(){var e=a.allow_nontarget_responses?c.querySelectorAll(".jspsych-serial-reaction-time-stimulus-cell"):[c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+a.target[0]+"-"+a.target[1])];for(var h=
0;h<e.length;h++)e[h].addEventListener("mousedown",function(c){if(-1!=b){var e={};e.row=c.currentTarget.getAttribute("data-row");e.column=c.currentTarget.getAttribute("data-column");e.rt=Date.now()-b;d=-1==d.rt?e:d;a.response_ends_trial&&f()}});b=Date.now();-1!=a.fade_duration&&(c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+a.target[0]+"-"+a.target[1]).style.transition="background-color "+a.fade_duration);c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+a.target[0]+
"-"+a.target[1]).style.backgroundColor=a.target_color;-1<a.trial_duration&&jsPsych.pluginAPI.setTimeout(f,a.trial_duration)}function f(){jsPsych.pluginAPI.clearAllTimeouts();var b={rt:d.rt,grid:JSON.stringify(a.grid),target:JSON.stringify(a.target),response_row:d.row,response_column:d.column,correct:d.row==a.target[0]&&d.column==a.target[1]};c.innerHTML="";jsPsych.finishTrial(b)}var b=-1,d={rt:-1,row:-1,column:-1},g=this.stimulus(a.grid,a.grid_square_size);c.innerHTML=g;0>=a.pre_target_duration?e():
jsPsych.pluginAPI.setTimeout(function(){e()},a.pre_target_duration);""!==a.prompt&&(c.innerHTML+=a.prompt)};d.stimulus=function(c,a,e,f,b){for(var d="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+a/4+"px'>",g=0;g<c.length;g++){for(var d=d+"<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>",k=0;k<c[g].length;k++)d+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+
g+"-"+k+"' data-row="+g+" data-column="+k+" style='width:"+a+"px; height:"+a+"px; display:table-cell; vertical-align:middle; text-align: center; cursor: pointer; font-size:"+a/2+"px;",1==c[g][k]&&(d+="border: 2px solid black;"),"undefined"!==typeof e&&e[0]==g&&e[1]==k&&(d+="background-color: "+f+";"),d+="'>","undefined"!==typeof b&&!1!==b[g][k]&&(d+=b[g][k]),d+="</div>";d+="</div>"}return d+"</div>"};return d}();jsPsych.plugins["serial-reaction-time"]=function(){var d={};d.info={name:"serial-reaction-time",description:"",parameters:{grid:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,"default":[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},target:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target",array:!0,"default":void 0,description:"The location of the target. The array should be the [row, column] of the target."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Choices",array:!0,"default":[["3","5","7","9"]],description:" Each entry in this array is the key that should be pressed for that corresponding location in the grid."},grid_square_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Grid square size","default":100,description:"The width and height in pixels of each square in the grid."},target_color:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Target color","default":"#999",description:"The color of the target square."},
response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial ends when user makes a response."},pre_target_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre-target duration","default":0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},
show_response_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show response feedback","default":!1,description:"If true, show feedback indicating where the user responded and whether it was correct."},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":200,description:"The length of time in milliseconds to show the feedback."},fade_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fade duration","default":-1,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},
prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",no_function:!1,description:" Any content here will be displayed below the stimulus."}}};d.trial=function(c,a){function e(){-1!=a.fade_duration&&(c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+a.target[0]+"-"+a.target[1]).style.transition="background-color "+a.fade_duration);c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+a.target[0]+"-"+a.target[1]).style.backgroundColor=a.target_color;
m=jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:g,allow_held_key:!1});-1<a.trial_duration&&jsPsych.pluginAPI.setTimeout(f,a.trial_duration)}function f(){if(-1==l.rt||0==a.show_response_feedback)b();else{var e=l.correct?"#0f0":"#f00";c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+l.responseLoc[0]+"-"+l.responseLoc[1]).style.transition="";c.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+l.responseLoc[0]+"-"+l.responseLoc[1]).style.backgroundColor=
e;jsPsych.pluginAPI.setTimeout(b,a.feedback_duration)}}function b(){jsPsych.pluginAPI.clearAllTimeouts();"undefined"!==typeof m&&jsPsych.pluginAPI.cancelKeyboardResponse(m);var b={rt:l.rt,key_press:l.key,correct:l.correct,grid:JSON.stringify(a.grid),target:JSON.stringify(a.target)};c.innerHTML="";jsPsych.finishTrial(b)}function d(c){l=-1==l.rt?c:l;for(var e=[],d=0;d<a.choices.length;d++)for(var g=0;g<a.choices[d].length;g++){var h="string"==typeof a.choices[d][g]?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(a.choices[d][g]):
a.choices[d][g];if(c.key==h){e=[d,g];break}}l.responseLoc=e;l.correct=JSON.stringify(e)==JSON.stringify(a.target);a.response_ends_trial&&(a.show_response_feedback?f(l.correct):b())}for(var g=jsPsych.utils.flatten(a.choices);-1<g.indexOf("");)g.splice(g.indexOf(""),1);var k=this.stimulus(a.grid,a.grid_square_size);c.innerHTML=k;0>=a.pre_target_duration?e():jsPsych.pluginAPI.setTimeout(function(){e()},a.pre_target_duration);""!==a.prompt&&(c.innerHTML+=a.prompt);var m={},l={rt:-1,key:!1,correct:!1}};
d.stimulus=function(c,a,e,f,b){for(var d="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+a/4+"px'>",g=0;g<c.length;g++){for(var d=d+"<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>",k=0;k<c[g].length;k++)d+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+g+"-"+k+"' style='width:"+a+"px; height:"+a+"px; display:table-cell; vertical-align:middle; text-align: center; font-size:"+
a/2+"px;",1==c[g][k]&&(d+="border: 2px solid black;"),"undefined"!==typeof e&&e[0]==g&&e[1]==k&&(d+="background-color: "+f+";"),d+="'>","undefined"!==typeof b&&!1!==b[g][k]&&(d+=b[g][k]),d+="</div>";d+="</div>"}return d+"</div>"};return d}();jsPsych.plugins["survey-likert"]=function(){var d={};d.info={name:"survey-likert",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":void 0,description:"Questions that are associated with the slider."},labels:{type:jsPsych.plugins.parameterType.STRING,array:!0,pretty_name:"Labels","default":void 0,description:"Labels to display for individual question."},
required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required","default":!1,description:"Makes answering questions required."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":"",description:"String to display at top of the page."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Next",description:"Label of the button."}}};d.trial=function(c,a){var e="<style id=\"jspsych-survey-likert-css\">.jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:100%; margin:0; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }</style>"+
('<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+a.preamble+"</div>");e+='<form id="jspsych-survey-likert-form">';for(var f=0;f<a.questions.length;f++){e+='<label class="jspsych-survey-likert-statement">'+a.questions[f].prompt+"</label>";for(var b=100/a.questions[f].labels.length,d='<ul class="jspsych-survey-likert-opts" data-radio-group="Q'+f+'">',g=0;g<a.questions[f].labels.length;g++)d+='<li style="width:'+b+'%"><input type="radio" name="Q'+f+'" value="'+g+'"',
a.questions[f].required&&(d+=" required"),d+='><label class="jspsych-survey-likert-opt-label">'+a.questions[f].labels[g]+"</label></li>";d+="</ul>";e+=d}e+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+a.button_label+'"></input>';c.innerHTML=e+"</form>";c.querySelector("#jspsych-survey-likert-form").addEventListener("submit",function(a){a.preventDefault();a=(new Date).getTime()-k;for(var b={},e=c.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),
d=0;d<e.length;d++){var f=e[d].dataset.radioGroup;var g=c.querySelector('input[name="'+f+'"]:checked');g=null===g?"":parseInt(g.value);var h={};h[f]=g;Object.assign(b,h)}a={rt:a,responses:JSON.stringify(b)};c.innerHTML="";jsPsych.finishTrial(a)});var k=(new Date).getTime()};return d}();jsPsych.plugins["survey-multi-choice"]=function(){var d={};d.info={name:"survey-multi-choice",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,"default":void 0,description:"Displays options for an individual question."},
required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required","default":!1,description:"Subject will be required to pick an option for each question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal","default":!1,description:"If true, then questions are centered and options are displayed horizontally."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":"",description:"HTML formatted string to display at the top of the page above all the questions."},
button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"",description:"Label of the button."}}};d.trial=function(c,a){var e=function(){return Array.prototype.slice.call(arguments,e.length).join(separator="-")};c.innerHTML='<style id="jspsych-survey-multi-choice-css"></style>';c.querySelector("#jspsych-survey-multi-choice-css").innerHTML=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}";
var d=e("jspsych-survey-multi-choice","form");c.innerHTML+='<form id="'+d+'"></form>';var d=c.querySelector("#"+d),b=e("jspsych-survey-multi-choice","preamble");d.innerHTML+='<div id="'+b+'" class="'+b+'">'+a.preamble+"</div>";for(b=0;b<a.questions.length;b++){var h=[e("jspsych-survey-multi-choice","question")];a.questions[b].horizontal&&h.push(e("jspsych-survey-multi-choice","horizontal"));d.innerHTML+='<div id="'+e("jspsych-survey-multi-choice",b)+'" class="'+h.join(" ")+'"></div>';h=e("#jspsych-survey-multi-choice",
b);c.querySelector(h).innerHTML+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+a.questions[b].prompt+"</p>";for(var g=0;g<a.questions[b].options.length;g++){var k=e("jspsych-survey-multi-choice","option",b,g);c.querySelector(h).innerHTML+='<div id="'+k+'" class="'+e("jspsych-survey-multi-choice","option")+'"></div>';var k=document.getElementById(k),m=e("jspsych-survey-multi-choice","response",b),l=e("jspsych-survey-multi-choice","response",b,g),p=document.createElement("label");
p.setAttribute("class","jspsych-survey-multi-choice-text");p.innerHTML=a.questions[b].options[g];p.setAttribute("for",l);var n=document.createElement("input");n.setAttribute("type","radio");n.setAttribute("name",m);n.setAttribute("id",l);n.setAttribute("value",a.questions[b].options[g]);k.appendChild(p);k.insertBefore(n,p)}a.questions[b].required&&(c.querySelector(h+" p").innerHTML+="<span class='required'>*</span>",c.querySelector(h+" input[type=radio]").required=!0)}d.innerHTML+='<input type="submit" id="jspsych-survey-multi-choice-next" class="jspsych-survey-multi-choice jspsych-btn"'+
(a.button_label?' value="'+a.button_label+'"':"")+"></input>";d.addEventListener("submit",function(a){a.preventDefault();c.querySelectorAll("div.jspsych-survey-multi-choice-question");var b=(new Date).getTime()-q,e={};var d=c.querySelectorAll("div.jspsych-survey-multi-choice-question");for(var f=0;f<d.length;f++){match=d[f];var g="Q"+f;a=null!==match.querySelector("input[type=radio]:checked")?match.querySelector("input[type=radio]:checked").value:"";var h={};h[g]=a;Object.assign(e,h)}a={rt:b,responses:JSON.stringify(e)};
c.innerHTML="";jsPsych.finishTrial(a)});var q=(new Date).getTime()};return d}();jsPsych.plugins["survey-multi-select"]=function(){var d={};d.info={name:"survey-multi-select",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,"default":void 0,description:"Displays options for an individual question."},
horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal","default":!1,description:"If true, then questions are centered and options are displayed horizontally."}}},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required","default":!1,description:"Subject will be required to pick an option for each question."},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":"",description:"HTML formatted string to display at the top of the page above all the questions."},
button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"",description:"Label of the button."}}};d.trial=function(c,a){var e=function(){return Array.prototype.slice.call(arguments,e.length).join(separator="-")};c.innerHTML='<style id="jspsych-survey-multi-select-css"></style>';c.querySelector("#jspsych-survey-multi-select-css").innerHTML=".jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}";
var d=e("jspsych-survey-multi-select","form");c.innerHTML+='<form id="'+d+'"></form>';var d=c.querySelector("#"+d),b=e("jspsych-survey-multi-select","preamble");d.innerHTML+='<div id="'+b+'" class="'+b+'">'+a.preamble+"</div>";for(b=0;b<a.questions.length;b++){var h=[e("jspsych-survey-multi-select","question")];a.questions[b].horizontal&&h.push(e("jspsych-survey-multi-select","horizontal"));d.innerHTML+='<div id="'+e("jspsych-survey-multi-select",b)+'" class="'+h.join(" ")+'"></div>';h=e("#jspsych-survey-multi-select",
b);c.querySelector(h).innerHTML+='<p id="survey-question" class="jspsych-survey-multi-select-text survey-multi-select">'+a.questions[b].prompt+"</p>";for(var g=0;g<a.questions[b].options.length;g++){var k=e("jspsych-survey-multi-select","option",b,g);c.querySelector(h).innerHTML+='<div id="'+k+'" class="'+e("jspsych-survey-multi-select","option")+'"></div>';var k=document.getElementById(k),m=e("jspsych-survey-multi-select","response",b),l=e("jspsych-survey-multi-select","response",b,g),p=document.createElement("label");
p.setAttribute("class","jspsych-survey-multi-select-text");p.innerHTML=a.questions[b].options[g];p.setAttribute("for",l);var n=document.createElement("input");n.setAttribute("type","checkbox");n.setAttribute("name",m);n.setAttribute("id",l);n.setAttribute("value",a.questions[b].options[g]);k.appendChild(p);k.insertBefore(n,p)}}d.innerHTML+='<div class="fail-message"></div>';d.innerHTML+='<input type="submit" id="jspsych-survey-multi-select-next" class="jspsych-survey-multi-select jspsych-btn"'+(a.button_label?
' value="'+a.button_label+'"':"")+"></input>";d.addEventListener("submit",function(b){b.preventDefault();b=(new Date).getTime()-q;for(var e=c.querySelectorAll("div.jspsych-survey-multi-select-question"),d={},f=[],g=0;g<e.length;g++){match=e[g];var h=[];var l=match.querySelectorAll("input[type=checkbox]:checked");for(var k=0;k<l.length;k++)currentChecked=l[k],h.push(currentChecked.value);l={};l["Q"+g]=h;Object.assign(d,l);0==h.length?f.push(!1):f.push(!0)}a.required&&f.includes(!1)?(c.querySelectorAll("input[type=checkbox]"),
c.querySelector(".fail-message").innerHTML='<span style="color: red;" class="required">'+a.required_msg+"</span>"):(b={rt:b,responses:JSON.stringify(d)},c.innerHTML="",jsPsych.finishTrial(b))});var q=(new Date).getTime()};return d}();jsPsych.plugins["survey-text"]=function(){var d={};d.info={name:"survey-text",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":void 0,description:"Prompts for the the subject to response"},value:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Value",array:!0,"default":"",description:"The strings will be used to populate the response fields with editable answers."},
rows:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Rows",array:!0,"default":1,description:"The number of rows for the response text box."},columns:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Columns",array:!0,"default":40,description:"The number of columns for the response text box."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":"",description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,
pretty_name:"Button label","default":"Next",description:"The text that appears on the button to finish the trial."}}};d.trial=function(c,a){if("undefined"==typeof a.questions[0].rows){a.questions[0].rows=[];for(var e=0;e<a.questions.length;e++)a.questions[e].rows.push(1)}if("undefined"==typeof a.questions[0].columns)for(a.questions[0].columns=[],e=0;e<a.questions.length;e++)a.questions[e].columns.push(40);if("undefined"==typeof a.questions[0].value)for(a.questions[0].value=[],e=0;e<a.questions.length;e++)a.questions[e].value.push("");
for(var d='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+a.preamble+"</div>",e=0;e<a.questions.length;e++)d+='<div id="jspsych-survey-text-"'+e+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',d+='<p class="jspsych-survey-text">'+a.questions[e].prompt+"</p>",d=1==a.questions[e].rows?d+('<input type="text" name="#jspsych-survey-text-response-'+e+'" size="'+a.questions[e].columns+'">'+a.questions[e].value+"</input>"):d+('<textarea name="#jspsych-survey-text-response-'+
e+'" cols="'+a.questions[e].columns+'" rows="'+a.questions[e].rows+'">'+a.questions[e].value+"</textarea>"),d+="</div>";d+='<button id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text">'+a.button_label+"</button>";c.innerHTML=d;c.querySelector("#jspsych-survey-text-next").addEventListener("click",function(){for(var a=(new Date).getTime()-b,d={},e=c.querySelectorAll("div.jspsych-survey-text-question"),f=0;f<e.length;f++){var l="Q"+f,p=e[f].querySelector("textarea, input").value,n=
{};n[l]=p;Object.assign(d,n)}a={rt:a,responses:JSON.stringify(d)};c.innerHTML="";jsPsych.finishTrial(a)});var b=(new Date).getTime()};return d}();jsPsych.plugins.video=function(){var d={};d.info={name:"video",description:"",parameters:{sources:{type:jsPsych.plugins.parameterType.VIDEO,pretty_name:"Sources",array:!0,"default":void 0,description:"The video file to play."},width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Width","default":void 0,description:"The width of the video in pixels."},height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Height","default":void 0,description:"The height of the video display in pixels."},
autoplay:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Autoplay","default":!0,description:"If true, the video will begin playing as soon as it has loaded."},controls:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Controls","default":!1,description:"If true, the subject will be able to pause the video or move the playback to any point in the video."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the video content."},
start:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Start","default":!1,description:"Time to start the clip."},stop:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Stop","default":!1,description:"Time to stop the clip."}}};d.trial=function(c,a){var d='<video id="jspsych-video-player" width="'+a.width+'" height="'+a.height+'" ';a.autoplay&&(d+="autoplay ");a.controls&&(d+="controls ");for(var d=d+">",f=0;f<a.sources.length;f++){var b=a.sources[f];-1<b.indexOf("?")&&(b=b.substring(0,
b.indexOf("?")));b=b.substr(b.lastIndexOf(".")+1);b=b.toLowerCase();d+='<source src="'+a.sources[f];d=a.start?d+("#t="+a.start):d+"#t=0";a.stop&&(d+=","+a.stop);d+='" type="video/'+b+'">'}d+="</video>";""!==a.prompt&&(d+=a.prompt);c.innerHTML=d;c.querySelector("#jspsych-video-player").onended=function(){var b={stimulus:JSON.stringify(a.sources)};c.innerHTML="";jsPsych.finishTrial(b)}};return d}();jsPsych.plugins["visual-search-circle"]=function(){var d={};jsPsych.pluginAPI.registerPreload("visual-search-circle","target","image");jsPsych.pluginAPI.registerPreload("visual-search-circle","foil","image");jsPsych.pluginAPI.registerPreload("visual-search-circle","fixation_image","image");d.info={name:"visual-search-circle",description:"",parameters:{target:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Target","default":void 0,description:"The image to be displayed."},foil:{type:jsPsych.plugins.parameterType.IMAGE,
pretty_name:"Foil","default":void 0,description:"Path to image file that is the foil/distractor."},fixation_image:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Fixation image","default":void 0,description:"Path to image file that is a fixation target."},set_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Set size","default":void 0,description:"How many items should be displayed?"},target_present:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Target present","default":!0,
description:"Is the target present?"},target_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target size",array:!0,"default":[50,50],description:"Two element array indicating the height and width of the search array element images."},fixation_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fixation size",array:!0,"default":[16,16],description:"Two element array indicating the height and width of the fixation image."},circle_diameter:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Circle diameter",
"default":250,description:"The diameter of the search array circle in pixels."},target_present_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Target present key","default":"j",description:"The key to press if the target is present in the search array."},target_absent_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Target absent key","default":"f",description:"The key to press if the the target is not present in the search array."},trial_duration:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."},fixation_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fixation duration","default":1E3,description:"How long to show the fixation image for before the search array (in milliseconds)."}}};d.trial=function(c,a){function d(){var b=[];a.target_present&&b.push(a.target);for(var b=b.concat(a.foil),d=0;d<l.length;d++)r.innerHTML+="<img src='"+b[d]+"' style='position: absolute; top:"+l[d][0]+
"px; left:"+l[d][1]+"px; width:"+a.target_size[0]+"px; height:"+a.target_size[1]+"px;'></img>";var e=!1;key_listener=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(b){e=!0;var d=0;if(b.key==a.target_present_key&&a.target_present||b.key==a.target_absent_key&&!a.target_present)d=1;c.innerHTML="";f(b.rt,d,b.key)},valid_responses:[a.target_present_key,a.target_absent_key],rt_method:"date",persist:!1,allow_held_key:!1});-1<a.trial_duration&&(0==a.trial_duration?e||(jsPsych.pluginAPI.cancelKeyboardResponse(key_listener),
e=!0,c.innerHTML="",f(-1,0,-1)):jsPsych.pluginAPI.setTimeout(function(){e||(jsPsych.pluginAPI.cancelKeyboardResponse(key_listener),e=!0,c.innerHTML="",f(-1,0,-1))},a.trial_duration))}function f(b,c,d){b={correct:c,rt:b,key_press:d,locations:JSON.stringify(l),target_present:a.target_present,set_size:a.set_size};jsPsych.finishTrial(b)}for(var b=a.circle_diameter,h=b/2,b=b+a.target_size[0],g=a.target_size[0]/2,k=a.target_size[1]/2,m=[Math.floor(b/2-a.fixation_size[0]/2),Math.floor(b/2-a.fixation_size[1]/
2)],l=[],p=a.set_size,n=Math.floor(360*Math.random()),q=0;q<p;q++)l.push([Math.floor(b/2+Math.cos((n+360/p*q)/180*Math.PI)*h-k),Math.floor(b/2-Math.sin((n+360/p*q)/180*Math.PI)*h-g)]);c.innerHTML+='<div id="jspsych-visual-search-circle-container" style="position: relative; width:'+b+"px; height:"+b+'px"></div>';var r=c.querySelector("#jspsych-visual-search-circle-container");if(!Array.isArray(a.foil)){fa=[];for(q=0;q<a.set_size;q++)fa.push(a.foil);a.foil=fa}(function(){r.innerHTML+="<img src='"+a.fixation_image+
"' style='position: absolute; top:"+m[0]+"px; left:"+m[1]+"px; width:"+a.fixation_size[0]+"px; height:"+a.fixation_size[1]+"px;'></img>";jsPsych.pluginAPI.setTimeout(function(){d()},a.fixation_duration)})()};return d}();jsPsych.plugins["vsl-animate-occlusion"]=function(){var d={};jsPsych.pluginAPI.registerPreload("vsl-animate-occlusion","stimuli","image");d.info={name:"vsl-animate-occlusion",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli","default":void 0,array:!0,description:"A stimulus is a path to an image file."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices",array:!0,"default":jsPsych.ALL_KEYS,description:"This array contains the keys that the subject is allowed to press in order to respond to the stimulus. "},
canvas_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Canvas size",array:!0,"default":[400,400],description:"Array specifying the width and height of the area that the animation will display in."},image_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image size",array:!0,"default":[100,100],description:"Array specifying the width and height of the images to show."},initial_direction:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Initial direction",choices:["left","right"],
"default":"left",description:"Which direction the stimulus should move first."},occlude_center:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Occlude center","default":!0,description:"If true, display a rectangle in the center of the screen that is just wide enough to occlude the image completely as it passes behind."},cycle_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Cycle duration","default":1E3,description:"How long it takes for a stimulus in the sequence to make a complete cycle."},
pre_movement_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre movement duration","default":500,description:"How long to wait before the stimuli starts moving from behind the center rectangle."}}};d.trial=function(c,a){function d(){if(a.stimuli.length==g)f();else{var b=h[k];0===k?k=1:k=0;var c=a.stimuli[g];g++;l.animate(b[0].params,b[0].ms,mina.linear,function(){l.animate(b[1].params,b[1].ms,mina.linear,function(){d()})});l.attr({href:c});(new Date).getTime()}}function f(){c.innerHTML=
"";jsPsych.pluginAPI.cancelKeyboardResponse(key_listener);var d={stimuli:JSON.stringify(a.stimuli),responses:JSON.stringify(b)};jsPsych.finishTrial(d)}var b=[],h=[[{params:{x:a.canvas_size[0]-a.image_size[0]},ms:a.cycle_duration/2},{params:{x:a.canvas_size[0]/2-a.image_size[0]/2},ms:a.cycle_duration/2}],[{params:{x:0},ms:a.cycle_duration/2},{params:{x:a.canvas_size[0]/2-a.image_size[0]/2},ms:a.cycle_duration/2}]],g=0,k="right"==a.initial_direction?0:1;c.innerHTML="<svg id='jspsych-vsl-animate-occlusion-canvas' width="+
a.canvas_size[0]+" height="+a.canvas_size[1]+"></svg>";var m=Snap("#jspsych-vsl-animate-occlusion-canvas"),l=m.image(a.stimuli[g],a.canvas_size[0]/2-a.image_size[0]/2,a.canvas_size[1]/2-a.image_size[1]/2,a.image_size[0],a.image_size[1]).attr({id:"jspsych-vsl-animate-occlusion-moving-image"});c.querySelector("#jspsych-vsl-animate-occlusion-moving-image").removeAttribute("preserveAspectRatio");a.occlude_center&&m.rect(a.canvas_size[0]/2-a.image_size[0]/2,0,a.image_size[0],a.canvas_size[1]).attr({fill:"#000"});
key_listener=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(a){b.push({key:a.key,stimulus:g-1,rt:a.rt})},valid_responses:a.choices,rt_method:"date",persist:!0,allow_held_key:!1});0<a.pre_movement_duration?jsPsych.pluginAPI.setTimeout(function(){d()},a.pre_movement_duration):d()};return d}();jsPsych.plugins["vsl-grid-scene"]=function(){var d={};jsPsych.pluginAPI.registerPreload("vsl-grid-scene","stimuli","image");d.info={name:"vsl-grid-scene",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli",array:!0,"default":void 0,description:"An array that defines a grid."},image_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image size",array:!0,"default":[100,100],description:"Array specifying the width and height of the images to show."},
trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":2E3,description:"How long to show the stimulus for in milliseconds."}}};d.trial=function(c,a){c.innerHTML=d.generate_stimulus(a.stimuli,a.image_size);jsPsych.pluginAPI.setTimeout(function(){c.innerHTML="";var d={stimulus:JSON.stringify(a.stimuli)};jsPsych.finishTrial(d)},a.trial_duration)};d.generate_stimulus=function(c,a){var d=c.length,f=c[0].length;var b='<div id="jspsych-vsl-grid-scene-dummy" css="display: none;"><table id="jspsych-vsl-grid-scene table" style="border-collapse: collapse; margin-left: auto; margin-right: auto;">';
for(var h=0;h<d;h++){b+='<tr id="jspsych-vsl-grid-scene-table-row-'+h+'" css="height: '+a[1]+'px;">';for(var g=0;g<f;g++)b+='<td id="jspsych-vsl-grid-scene-table-'+h+"-"+g+'" style="padding: '+a[1]/10+"px "+a[0]/10+'px; border: 1px solid #555;"><div id="jspsych-vsl-grid-scene-table-cell-'+h+"-"+g+'" style="width: '+a[0]+"px; height: "+a[1]+'px;">',0!==c[h][g]&&(b+='<img src="'+c[h][g]+'" style="width: '+a[0]+"px; height: "+a[1]+'"></img>'),b+="</div>",b+="</td>";b+="</tr>"}return b+"</table></div>"};
return d}();jsPsych.plugins["xab-html"]=function(){var d={};d.info={name:"xab-html",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli",array:!0,"default":void 0,description:"Array of 2 or 3 paths to images."},left_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Left key","default":"q",description:"Which key the subject should press to indicate that the target is on the left side."},right_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Right key",
"default":"p",description:"Which key the subject should press to indicate that the target is on the right side."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},x_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"X duration","default":1E3,description:"How long to show the X stimulus for in milliseconds."},x_durationab_gap:{type:jsPsych.plugins.parameterType.INT,pretty_name:"X durationab gap",
"default":1E3,description:"How long to show a blank screen in between X and AB in milliseconds."},ab_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"AB duration","default":-1,description:"How long to show A and B in milliseconds."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."}}};d.trial=function(c,a){function d(){c.innerHTML="";jsPsych.pluginAPI.setTimeout(function(){f()},a.x_durationab_gap)}
function f(){var b=[a.a_path,a.b_path],d=0===Math.floor(2*Math.random());d||(b=[a.b_path,a.a_path]);c.innerHTML+='<div class="jspsych-xab-stimulus left">'+b[0]+"</div>";c.innerHTML+='<div class="jspsych-xab-stimulus right">'+b[1]+"</div>";""!==a.prompt&&(c.innerHTML+=a.prompt);0<a.ab_duration&&jsPsych.pluginAPI.setTimeout(function(){for(var a=c.querySelectorAll(".jspsych-xab-stimulus"),b=0;b<a.length;b++)a[b].style.visibility="hidden"},a.ab_duration);0<a.trial_duration&&jsPsych.pluginAPI.setTimeout(function(){e({rt:-1,
correct:!1,key:-1})},a.trial_duration);var e=function(b){jsPsych.pluginAPI.clearAllTimeouts();jsPsych.pluginAPI.cancelKeyboardResponse(f);b={rt:b.rt,correct:b.correct,stimulus:JSON.stringify([a.x_path,a.a_path,a.b_path]),key_press:b.key};c.innerHTML="";jsPsych.finishTrial(b)},f=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(b){var c=!1;b.key==a.left_key?d&&(c=!0):b.key==a.right_key&&(d||(c=!0));b.correct=c;e(b)},valid_responses:[a.left_key,a.right_key],rt_method:"date",persist:!1,
allow_held_key:!1})}a.x_path=a.stimuli[0];2==a.stimuli.length?(a.a_path=a.stimuli[0],a.b_path=a.stimuli[1]):(a.a_path=a.stimuli[1],a.b_path=a.stimuli[2]);c.innerHTML='<div class="jspsych-xab-stimulus" >'+a.x_path+"</div>";jsPsych.pluginAPI.setTimeout(function(){d()},a.x_duration)};return d}();jsPsych.plugins["xab-image"]=function(){var d={};jsPsych.pluginAPI.registerPreload("xab-image","stimuli","image");d.info={name:"xab-image",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli",array:!0,"default":void 0,description:"Array of 2 or 3 HTML elements."},left_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Left key","default":"q",description:"Which key the subject should press to indicate that the target is on the left side."},right_key:{type:jsPsych.plugins.parameterType.KEYCODE,
pretty_name:"Right key","default":"p",description:"Which key the subject should press to indicate that the target is on the right side."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},x_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"X duration","default":1E3,description:"How long to show the X stimulus for in milliseconds."},x_durationab_gap:{type:jsPsych.plugins.parameterType.INT,
pretty_name:"X durationab gap","default":1E3,description:"How long to show a blank screen in between X and AB in milliseconds."},ab_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"AB duration","default":-1,description:"How long to show A and B in milliseconds."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."}}};d.trial=function(c,a){function d(){c.innerHTML="";jsPsych.pluginAPI.setTimeout(function(){f()},
a.x_durationab_gap)}function f(){var b=[a.a_path,a.b_path],d=0===Math.floor(2*Math.random());d||(b=[a.b_path,a.a_path]);c.innerHTML+='<img class="jspsych-xab-stimulus left" src="'+b[0]+'"></img>';c.innerHTML+='<img class="jspsych-xab-stimulus right" src="'+b[1]+'"></img>';""!==a.prompt&&(c.innerHTML+=a.prompt);0<a.ab_duration&&jsPsych.pluginAPI.setTimeout(function(){for(var a=c.querySelectorAll(".jspsych-xab-stimulus"),b=0;b<a.length;b++)a[b].style.visibility="hidden"},a.ab_duration);0<a.trial_duration&&
jsPsych.pluginAPI.setTimeout(function(){e({rt:-1,correct:!1,key:-1})},a.trial_duration);var e=function(b){jsPsych.pluginAPI.clearAllTimeouts();jsPsych.pluginAPI.cancelKeyboardResponse(f);b={rt:b.rt,correct:b.correct,stimulus:JSON.stringify([a.x_path,a.a_path,a.b_path]),key_press:b.key};c.innerHTML="";jsPsych.finishTrial(b)},f=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(b){var c=!1;b.key==a.left_key?d&&(c=!0):b.key==a.right_key&&(d||(c=!0));b.correct=c;e(b)},valid_responses:[a.left_key,
a.right_key],rt_method:"date",persist:!1,allow_held_key:!1})}a.x_path=a.stimuli[0];2==a.stimuli.length?(a.a_path=a.stimuli[0],a.b_path=a.stimuli[1]):(a.a_path=a.stimuli[1],a.b_path=a.stimuli[2]);c.innerHTML='<img class="jspsych-xab-stimulus" src="'+a.x_path+'"></img>';jsPsych.pluginAPI.setTimeout(function(){d()},a.x_duration)};return d}();